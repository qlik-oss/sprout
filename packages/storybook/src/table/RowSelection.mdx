import { Canvas, Controls, Meta } from "@storybook/addon-docs/blocks";
import * as ListStories from "./ListTable.stories";

<Meta title="Table/Docs/Rows/Row Selection" />

# Row Selection

Row selection is a usual interaction pattern in tables, allowing users to select one or multiple rows for further actions.
It can be to pick an item so the user can filter and find it easily, or to perform bulk actions like deleting or exporting selected rows.

Here we have a difference in behavior between the `List` and `Data` table variants, which is important to understand when implementing row selection in your tables.

In terms of state management the feature can be used using the Uncontrolled or Controlled mode but you have to know in the end there is an internal state that is used to manage the selection of rows.

## List Single Row Selection

The `rowSelectionMode` prop can be set to `"single"` to allow only one row to be selected at a time. This is useful for scenarios where only one item can be acted upon, such as viewing details or editing a single record.
The user can then click anywhere on the row to select it. <br />

<strong>ℹ️ Note:</strong> If [Row Toggling](/docs/docs-rows-row-toggling--docs) is enabled, it will require the user to
click the radio button to select the row.

```tsx
import { Table } from "@qlik/sprout-table";
import { rows, columns } from "./data";

<Table variant="list" columns={columns} rows={rows} rowSelectionMode="single" />;
```

<Canvas of={ListStories.RowSingleSelection} />

## List Multiple Row Selection

For scenarios where users need to select multiple rows, set the `rowSelectionMode` prop to `"multiple"`. This allows users to select several rows at once, which is useful for bulk actions like deletion or export.
The user can then click anywhere on the row to select it, and a checkbox will appear in the selection column header to select all rows. <br />

<strong>ℹ️ Note:</strong> If [Row Toggling](/docs/docs-rows-row-toggling--docs) is enabled, it will require the user to
click the checkbox to select the row.

```tsx
import { Table } from "@qlik/sprout-table";
import { rows, columns } from "./data";

<Table variant="list" columns={columns} rows={rows} rowSelectionMode="multiple" />;
```

## Disable selection for specific rows

Use `isRowSelectable` prop to disable selection for specific rows. It is a function which is called with row object
and should return a `boolean` value

<strong>ℹ️ Note:</strong> The `rowSelectionMode` prop should be also defined

```tsx
import { Table } from "@qlik/sprout-table";
import { rows, columns } from "./data";

return (
  <Table
    variant="list"
    columns={columns}
    rows={rows}
    rowSelectionMode="multiple"
    isRowSelectable={(row) => row.engines.length > 5}
  />
);
```

<Canvas of={ListStories.RowMultipleSelection} />

In some cases you may not want the user to be able to select all rows at once. You can opt-out by using the property `rowSelectAll={false}`

## API

<Controls of={ListStories.RowMultipleSelection} />
