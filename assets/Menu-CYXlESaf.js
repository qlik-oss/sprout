import{r as a,j as e}from"./iframe-B9QkJTIx.js";import{s as h}from"./sprout-DgR7PjaR.js";import{c as S}from"./classNames-CL7ibyjj.js";import{T as X}from"./icons-Duy9VSzr.js";import{u as Z}from"./useControl-CYR4PP7j.js";import{D as J}from"./Divider-CQpF3Ph8.js";import{b as E,c as Q,F as k,d as ee,u as P,e as te,S as ne}from"./Tooltip-Csm9nS2W.js";import{u as re}from"./useId-HR4iyljw.js";import{L as se}from"./list-B1zo5gaH.js";import{r as oe}from"./renderOrClone-Dge73wkB.js";import{F as ie}from"./NewTab-BMd_bij_.js";import{u as ae}from"./useI18n-CoLWfcqJ.js";import{I as ue}from"./IconButton-CrQ3EA5C.js";import{S as A}from"./Skeleton-wIQNnjB0.js";const D=a.forwardRef(G);function G({onCloseAll:n,...t},r){const s=E({tree:!0,onCloseAll:n});return s.Provider?e.jsx(Q,{children:e.jsx(s.Provider,{value:s,children:e.jsx(k,{tree:!0,...t,ref:r})})}):e.jsx(k,{tree:!0,...t})}G.displayName="FloatingTreePrimitive";const R={DOWN:"ArrowDown",END:"End",ENTER:"Enter",ESCAPE:"Escape",HOME:"Home",LEFT:"ArrowLeft",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",RIGHT:"ArrowRight",TAB:"Tab",UP:"ArrowUp"},le="_menu_1rf11_1",ce="_menuitem_1rf11_21",de="_menu_icon_1rf11_54",me="_menu_divider_1rf11_70",fe="_menu_content_label_1rf11_75",pe="_menu_content_description_1rf11_76",v={menu:le,menuitem:ce,menu_icon:de,menu_divider:me,menu_content_label:fe,menu_content_description:pe},xe=a.forwardRef(O);function O({children:n,...t},r){return e.jsx("div",{className:v.menu,ref:r,...t,children:n})}O.displayName="Menu.Container";function B(n){return e.jsx("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:e.jsx("g",{id:"icons/outline/chevron_right",children:e.jsx("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M9.58578 8.00004L4.43933 2.85359L5.14644 2.14648L11 8.00004L5.14644 13.8536L4.43933 13.1465L9.58578 8.00004Z"})})})}B.displayName="MenuIcon.ChevronRight";const ge={flexShrink:0};function he(){return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",style:ge})}function I({isNested:n,label:t,children:r,icon:s,valueLabel:o,description:c,selectable:i,selected:l,disabled:b}){return e.jsxs("div",{className:h.classNames("flex","border-box","gap-m","flex-row","grow-0","items-center","overflow-hidden","px-l","py-m","pointer-events-none","break-words","text-start","w-full"),children:[i&&!l?e.jsx(he,{}):null,i&&l?e.jsx(X,{className:h.classNames("shrink-0","fill-default","self-start")}):null,!t&&e.jsx("div",{className:h.classNames("overflow-hidden","grow-0","break-words","w-full"),children:r}),t?e.jsx(F,{icon:s,label:t,description:c,valueLabel:o,disabled:b}):null,n?e.jsx("svg",{className:S("rtl-rotate-y-180","size-xl","self-center","shrink-0"),children:e.jsx(B,{className:S("fill-current")})}):null]})}I.displayName="Menu.Content";function F({label:n,icon:t,valueLabel:r,description:s,disabled:o}){return e.jsxs("div",{className:h.classNames("overflow-hidden","flex","gap-m","flex-row","items-center","w-full"),children:[t!==void 0&&e.jsx("span",{"data-part":"icon",className:v.menu_icon,children:t}),e.jsxs("div",{className:h.classNames("overflow-hidden","flex","border-box","flex-col","items-start","gap-xs","w-full"),children:[e.jsxs("span",{"data-part":"label",className:h.classNames("font-label-s","text-start","w-full","break-words",v.menu_content_label),children:[n," "]}),s?e.jsx("span",{"data-part":"description",className:h.classNames("font-label-xs","text-start","break-words","w-full",v.menu_content_description,{"text-weak":!o,"text-disabled":!!o}),children:s}):null]}),e.jsx("div",{className:h.classNames("font-label-xs","self-start","shrink-0"),children:r})]})}F.displayName="Menu.ContentPrimitive";function L(){return e.jsx("div",{className:v.menu_divider,children:e.jsx(J,{"aria-hidden":!0})})}L.displayName="Menu.Divider";function T({label:n,...t}){return e.jsx("div",{className:S("flex","flex-row","border-box","font-label-s-emphasized","text-default","px-l","py-m"),...t,children:n})}T.displayName="Menu.GroupLabel";const U=a.forwardRef(H);function H({label:n,children:t,...r},s){return e.jsxs("div",{className:S("flex","flex-col","border-box"),role:"group",...r,ref:s,children:[e.jsx(T,{label:n}),t]})}H.displayName="Menu.Group";const be=a.createContext({getItemProps:()=>({}),activeIndex:null,setActiveIndex:()=>{},setHasFocusInside:()=>{},isOpen:!1}),y=a.forwardRef(K);function K({label:n,children:t,description:r,icon:s,disabled:o,valueLabel:c,selectable:i,selected:l,isNested:b,variant:d="default",...M},N){const p=a.useContext(be),g=ee({label:o?null:n}),m=g.index===p.activeIndex,u=()=>{if(i)return l?"true":"false"};return e.jsx("button",{...M,ref:P([g.ref,N]),"aria-haspopup":b?"menu":void 0,type:"button",className:h.classNames("cursor-pointer","bg-transparent","text-default","font-label-s","flex-noreset","w-full","border-none","radius-subtle","m-0","p-0","outline-none",v.menuitem),style:{minInlineSize:"120px"},tabIndex:m?0:-1,role:i?"menuitemcheckbox":"menuitem","aria-checked":u(),disabled:o,"data-variant":d,children:e.jsx(I,{isNested:b,selectable:i,selected:l,description:r,valueLabel:c,icon:s,label:n,disabled:o,children:t})})}K.displayName="Menu.Item";class Me extends se{trigger;hasSubMenu;getParentMenuTrigger;close;constructor(t){super(t),this.orientation="vertical",this.hasSubMenu=t.hasSubMenu,this.getParentMenuTrigger=t.getParentMenuTrigger,this.close=t.close}openSubMenu(t){this.hasSubMenu&&this.hasSubMenu(t)&&t.click()}closeSubMenu(t){if(this.getParentMenuTrigger){const r=this.getParentMenuTrigger(t);r&&r.click()}}onKeyDownHandler(t){t.key===R.TAB&&(t.preventDefault(),this.close?.()),super.onKeyDownHandler(t);const r=t.target;switch(t.key){case R.LEFT:document.dir==="rtl"?this.openSubMenu(r):this.closeSubMenu(r);break;case R.RIGHT:document.dir==="rtl"?this.closeSubMenu(r):this.openSubMenu(r);break}}}function ve(n){const[t,r]=a.useState();return a.useMemo(()=>{if(t)return t;const o=new Me(n);return r(o),o},[n.getAllItems,n.getSelectedItems,n.loop])}function Ne(n){return n.querySelectorAll('[role^="menuitem"]:not([disabled])')}function je(n){return n.querySelectorAll('[role^="menuitem"][aria-selected=true]:not([disabled])')}function we(n){const t=n.closest('[role="menu"]');if(t){const r=t.getAttribute("id");return document.querySelector(`[role^="menuitem"][aria-controls="${r}"]`)}return null}function _e(n){return n.getAttribute("aria-haspopup")==="menu"}const W=a.forwardRef(q);function q({"data-testid":n,id:t,menu:r,onClick:s,open:o,defaultOpen:c,onOpenChange:i,placement:l,children:b,...d},M){const N=a.useRef(null),p=P([N,M]),g=re(t),m=te({open:o,onOpenChange:i,defaultOpen:c}),[u,j]=a.useState(!1),w=E({tree:!0,onCloseAll:()=>{m.onOpenChange?.(!1)}}),f=ve({getAllItems:Ne,getSelectedItems:je,hasSubMenu:_e,getParentMenuTrigger:we,close:()=>{w.closeAll(),m.onOpenChange?.(!1),w.parentId===null&&f.trigger?.focus()}});return a.useEffect(()=>()=>{f.setElement()},[u]),e.jsx(D,{"data-testid":n,ref:p,id:g,open:m.open,onOpenChange:x=>{x!==m.open&&m.onOpenChange?.(x),x||(j(!1),f.trigger?.focus())},onMount:(x,_)=>{j(!0),f.trigger=x,f.setElement(_),m.open&&u&&f.focusOnFirst()},onClick:x=>{if(!(x.target instanceof HTMLElement))return;const _=x.target.closest('[role^="menuitem"]');_&&_.getAttribute("aria-haspopup")!=="menu"&&(_.hasAttribute("disabled")||_.getAttribute("aria-disabled")==="true"||(w.closeAll(),m.onOpenChange?.(!1),j(!1),f.trigger?.focus(),s&&s(x)))},initialOpen:c,placement:l||"bottom-start",placementUpdate:!0,role:"menu",minWidth:"reference",maxWidth:"xs",className:v.menu,content:r,...d,children:oe(b,{"aria-haspopup":"menu","aria-expanded":m.open?"true":"false","aria-controls":g})})}q.displayName="Menu.Trigger";function C({menu:n}){const t=document.dir==="rtl";return a.isValidElement(n)?n:n.map((s,o)=>{if(s.component==="item"){const{component:c,...i}=s;return e.jsx(y,{...i},o)}if(s.component==="divider")return e.jsx(L,{},o);if(s.component==="grouplabel"){const{component:c,...i}=s;return e.jsx(T,{...i},o)}if(s.component==="group"){const{component:c,menu:i,...l}=s;return e.jsx(U,{...l,children:e.jsx(C,{menu:i})},o)}if(s.component==="sub"){const{component:c,menu:i,...l}=s;return e.jsx(W,{menu:e.jsx(C,{menu:i}),placement:t?"left":"right",children:e.jsx(y,{...l,isNested:!0})},o)}return null})}C.displayName="Menu.Renderer";function z({closeOnRightClickOutside:n=!0,onClick:t,onOpenChange:r,wrapperClassName:s,open:o,anchorPosition:c,menu:i,children:l,...b}){const d=a.useRef(null),[M,N]=a.useState(null),p=Z({open:o,onOpenChange:r,initialOpen:!1},{defaultValueKey:"initialOpen",valueKey:"open",onChangeKey:"onOpenChange",selector:u=>u}),g=a.useRef(!1),m=E({tree:!0,onCloseAll:()=>{p.onChange(!1)}});return a.useEffect(()=>{let u;function j(f){f.preventDefault(),N(f),p.onChange(!0),r&&r(!0,f),clearTimeout(u),g.current=!1,u=window.setTimeout(()=>{g.current=!0},300)}function w(){g.current&&(p.onChange(!1),N(null),r&&r(!1))}return d.current&&(d.current.addEventListener("contextmenu",j),d.current.addEventListener("mouseup",w)),()=>{d.current&&(d.current.removeEventListener("mouseup",w),d.current.removeEventListener("contextmenu",j)),clearTimeout(u)}},[d]),e.jsxs(e.Fragment,{children:[l?e.jsx("div",{className:s,ref:d,children:l}):null,e.jsx(D,{open:p.value,anchorPosition:c||(M?{left:M.clientX,top:M.clientY}:void 0),onOpenChange:u=>{p.onChange(u),r&&r(u,M||void 0)},onClick:u=>{u.target.getAttribute("aria-haspopup")!=="menu"&&(m.closeAll(),p.onChange(!1),t&&t(u))},closeOnRightClickOutside:n,placement:"bottom-start",placementUpdate:!0,role:"menu",content:i?e.jsx(C,{menu:i}):null,width:"fit-content",maxWidth:"s",className:v.menu,...b})]})}z.displayName="Menu.Contextual";function Se(n){const r=ae()("menu.secondaryaction.label");return e.jsx(ue,{role:"menuitem",tabIndex:-1,icon:e.jsx(ie,{}),label:r,variant:"quiet",...n})}function Ce(){return e.jsxs("div",{className:S("flex","flex-col","border-box","gap-m"),children:[e.jsx(A,{variant:"rectangle",width:"150px",height:"22px"}),e.jsx(A,{variant:"rectangle",width:"100px",height:"22px"}),e.jsx(A,{variant:"rectangle",width:"200px",height:"22px"})]})}function ye({children:n}){return e.jsx("div",{className:S("flex","flex-row","gap-0"),children:n})}const Y=a.forwardRef(V);function V({menu:n,...t},r){return e.jsx(W,{menu:e.jsx(C,{menu:n}),...t,ref:r})}V.displayName="Menu.Trigger";function $({menu:n,"data-testid":t,"data-testid-submenu":r,...s}){const o=document.dir==="rtl";return e.jsx(Y,{offsetMain:ne,"data-testid":t,menu:n,placement:o?"left":"right",trigger:"hover",hoverDelay:300,hideBackdrop:!0,children:e.jsx(y,{"data-testid":r,...s,isNested:!0})})}$.displayName="Menu.Sub";const He={Container:xe,Content:I,Contextual:z,Divider:L,Group:U,GroupLabel:T,Item:y,Sub:$,Trigger:Y,Skeleton:Ce,SecondaryAction:Se,Split:ye};export{R as K,He as M,F as a,v as m};
