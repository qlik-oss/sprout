import{r as d,w as zt,n as qt,j as V,T as An}from"./iframe-DO7qjpir.js";import{t as ve}from"./sprout-tokens-D9QRO1qB.js";import{r as at}from"./renderOrClone-C_aUAXE9.js";import{u as Pn}from"./useId-B9UV2KOW.js";import{c as wt}from"./classNames-C2xvgHQf.js";function Ye(){return typeof window<"u"}function xe(t){return pt(t)?(t.nodeName||"").toLowerCase():"#document"}function te(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function le(t){var e;return(e=(pt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pt(t){return Ye()?t instanceof Node||t instanceof te(t).Node:!1}function H(t){return Ye()?t instanceof Element||t instanceof te(t).Element:!1}function G(t){return Ye()?t instanceof HTMLElement||t instanceof te(t).HTMLElement:!1}function _e(t){return!Ye()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof te(t).ShadowRoot}const On=new Set(["inline","contents"]);function Pe(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=ne(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!On.has(r)}const Ln=new Set(["table","td","th"]);function In(t){return Ln.has(xe(t))}const Mn=[":popover-open",":modal"];function Ke(t){return Mn.some(e=>{try{return t.matches(e)}catch{return!1}})}const kn=["transform","translate","scale","rotate","perspective"],Dn=["transform","translate","scale","rotate","perspective","filter"],Fn=["paint","layout","strict","content"];function ht(t){const e=ze(),n=H(t)?ne(t):t;return kn.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Dn.some(o=>(n.willChange||"").includes(o))||Fn.some(o=>(n.contain||"").includes(o))}function Nn(t){let e=de(t);for(;G(e)&&!fe(e);){if(ht(e))return e;if(Ke(e))return null;e=de(e)}return null}function ze(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _n=new Set(["html","body","#document"]);function fe(t){return _n.has(xe(t))}function ne(t){return te(t).getComputedStyle(t)}function qe(t){return H(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function de(t){if(xe(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_e(t)&&t.host||le(t);return _e(e)?e.host:e}function Ut(t){const e=de(t);return fe(e)?t.ownerDocument?t.ownerDocument.body:t.body:G(e)&&Pe(e)?e:Ut(e)}function me(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=Ut(t),i=r===((o=t.ownerDocument)==null?void 0:o.body),s=te(r);if(i){const c=ut(s);return e.concat(s,s.visualViewport||[],Pe(r)?r:[],c&&n?me(c):[])}return e.concat(r,me(r,[],n))}function ut(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const ge=Math.min,ee=Math.max,We=Math.round,Me=Math.floor,ce=t=>({x:t,y:t}),Wn={left:"right",right:"left",bottom:"top",top:"bottom"},Bn={start:"end",end:"start"};function ft(t,e,n){return ee(t,ge(e,n))}function Re(t,e){return typeof t=="function"?t(e):t}function pe(t){return t.split("-")[0]}function Ee(t){return t.split("-")[1]}function Gt(t){return t==="x"?"y":"x"}function vt(t){return t==="y"?"height":"width"}const jn=new Set(["top","bottom"]);function ae(t){return jn.has(pe(t))?"y":"x"}function bt(t){return Gt(ae(t))}function $n(t,e,n){n===void 0&&(n=!1);const o=Ee(t),r=bt(t),i=vt(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=Be(s)),[s,Be(s)]}function Vn(t){const e=Be(t);return[dt(t),e,dt(e)]}function dt(t){return t.replace(/start|end/g,e=>Bn[e])}const xt=["left","right"],Rt=["right","left"],Hn=["top","bottom"],Xn=["bottom","top"];function Yn(t,e,n){switch(t){case"top":case"bottom":return n?e?Rt:xt:e?xt:Rt;case"left":case"right":return e?Hn:Xn;default:return[]}}function Kn(t,e,n,o){const r=Ee(t);let i=Yn(pe(t),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),e&&(i=i.concat(i.map(dt)))),i}function Be(t){return t.replace(/left|right|bottom|top/g,e=>Wn[e])}function zn(t){return{top:0,right:0,bottom:0,left:0,...t}}function Zt(t){return typeof t!="number"?zn(t):{top:t,right:t,bottom:t,left:t}}function je(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}var qn=["input:not([inert]):not([inert] *)","select:not([inert]):not([inert] *)","textarea:not([inert]):not([inert] *)","a[href]:not([inert]):not([inert] *)","button:not([inert]):not([inert] *)","[tabindex]:not(slot):not([inert]):not([inert] *)","audio[controls]:not([inert]):not([inert] *)","video[controls]:not([inert]):not([inert] *)",'[contenteditable]:not([contenteditable="false"]):not([inert]):not([inert] *)',"details>summary:first-of-type:not([inert]):not([inert] *)","details:not([inert]):not([inert] *)"],mt=qn.join(","),Qt=typeof Element>"u",Te=Qt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,$e=!Qt&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Ve=function(e,n){var o;n===void 0&&(n=!0);var r=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),i=r===""||r==="true",s=i||n&&e&&(typeof e.closest=="function"?e.closest("[inert]"):Ve(e.parentNode));return s},Un=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},Gn=function(e,n,o){if(Ve(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(mt));return n&&Te.call(e,mt)&&r.unshift(e),r=r.filter(o),r},gt=function(e,n,o){for(var r=[],i=Array.from(e);i.length;){var s=i.shift();if(!Ve(s,!1))if(s.tagName==="SLOT"){var c=s.assignedElements(),a=c.length?c:s.children,l=gt(a,!0,o);o.flatten?r.push.apply(r,l):r.push({scopeParent:s,candidates:l})}else{var u=Te.call(s,mt);u&&o.filter(s)&&(n||!e.includes(s))&&r.push(s);var m=s.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(s),h=!Ve(m,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(s));if(m&&h){var f=gt(m===!0?s.children:m.children,!0,o);o.flatten?r.push.apply(r,f):r.push({scopeParent:s,candidates:f})}else i.unshift.apply(i,s.children)}}return r},Jt=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},en=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Un(e))&&!Jt(e)?0:e.tabIndex},Zn=function(e,n){var o=en(e);return o<0&&n&&!Jt(e)?0:o},Qn=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},tn=function(e){return e.tagName==="INPUT"},Jn=function(e){return tn(e)&&e.type==="hidden"},eo=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},to=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},no=function(e){if(!e.name)return!0;var n=e.form||$e(e),o=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=o(window.CSS.escape(e.name));else try{r=o(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=to(r,e.form);return!i||i===e},oo=function(e){return tn(e)&&e.type==="radio"},ro=function(e){return oo(e)&&!no(e)},io=function(e){var n,o=e&&$e(e),r=(n=o)===null||n===void 0?void 0:n.host,i=!1;if(o&&o!==e){var s,c,a;for(i=!!((s=r)!==null&&s!==void 0&&(c=s.ownerDocument)!==null&&c!==void 0&&c.contains(r)||e!=null&&(a=e.ownerDocument)!==null&&a!==void 0&&a.contains(e));!i&&r;){var l,u,m;o=$e(r),r=(l=o)===null||l===void 0?void 0:l.host,i=!!((u=r)!==null&&u!==void 0&&(m=u.ownerDocument)!==null&&m!==void 0&&m.contains(r))}}return i},Et=function(e){var n=e.getBoundingClientRect(),o=n.width,r=n.height;return o===0&&r===0},so=function(e,n){var o=n.displayCheck,r=n.getShadowRoot;if(o==="full-native"&&"checkVisibility"in e){var i=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(e).visibility==="hidden")return!0;var s=Te.call(e,"details>summary:first-of-type"),c=s?e.parentElement:e;if(Te.call(c,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="full-native"||o==="legacy-full"){if(typeof r=="function"){for(var a=e;e;){var l=e.parentElement,u=$e(e);if(l&&!l.shadowRoot&&r(l)===!0)return Et(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(io(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return Et(e);return!1},co=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var r=n.children.item(o);if(r.tagName==="LEGEND")return Te.call(n,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}n=n.parentElement}return!1},lo=function(e,n){return!(n.disabled||Jn(n)||so(n,e)||eo(n)||co(n))},Ct=function(e,n){return!(ro(n)||en(n)<0||!lo(e,n))},ao=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},nn=function(e){var n=[],o=[];return e.forEach(function(r,i){var s=!!r.scopeParent,c=s?r.scopeParent:r,a=Zn(c,s),l=s?nn(r.candidates):c;a===0?s?n.push.apply(n,l):n.push(c):o.push({documentOrder:i,tabIndex:a,item:r,isScope:s,content:l})}),o.sort(Qn).reduce(function(r,i){return i.isScope?r.push.apply(r,i.content):r.push(i.content),r},[]).concat(n)},on=function(e,n){n=n||{};var o;return n.getShadowRoot?o=gt([e],n.includeContainer,{filter:Ct.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:ao}):o=Gn(e,n.includeContainer,Ct.bind(null,n)),nn(o)};function uo(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function fo(){return/apple/i.test(navigator.vendor)}const mo="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function go(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function He(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&_e(n)){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1}function Se(t){return"composedPath"in t?t.composedPath()[0]:t.target}function et(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function po(t){return t.matches("html,body")}function ue(t){return t?.ownerDocument||document}function ho(t){return G(t)&&t.matches(mo)}function Fe(t,e,n){return n===void 0&&(n=!0),t.filter(r=>{var i;return r.parentId===e&&(!n||((i=r.context)==null?void 0:i.open))}).flatMap(r=>[r,...Fe(t,r.id,n)])}function vo(t){return"nativeEvent"in t}function Ae(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}var bo=typeof document<"u",yo=function(){},q=bo?d.useLayoutEffect:yo;const wo={...zt};function ke(t){const e=d.useRef(t);return q(()=>{e.current=t}),e}const xo=wo.useInsertionEffect,Ro=xo||(t=>t());function se(t){const e=d.useRef(()=>{});return Ro(()=>{e.current=t}),d.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.current==null?void 0:e.current(...o)},[])}const rn=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function sn(t,e){const n=on(t,rn()),o=n.length;if(o===0)return;const r=go(ue(t)),i=n.indexOf(r),s=i===-1?e===1?0:o-1:i+e;return n[s]}function Eo(t){return sn(ue(t).body,1)||t}function Co(t){return sn(ue(t).body,-1)||t}function tt(t,e){const n=e||t.currentTarget,o=t.relatedTarget;return!o||!He(n,o)}function So(t){on(t,rn()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function St(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const o=n.dataset.tabindex;delete n.dataset.tabindex,o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")})}function Tt(t,e,n){let{reference:o,floating:r}=t;const i=ae(e),s=bt(e),c=vt(s),a=pe(e),l=i==="y",u=o.x+o.width/2-r.width/2,m=o.y+o.height/2-r.height/2,h=o[c]/2-r[c]/2;let f;switch(a){case"top":f={x:u,y:o.y-r.height};break;case"bottom":f={x:u,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:m};break;case"left":f={x:o.x-r.width,y:m};break;default:f={x:o.x,y:o.y}}switch(Ee(e)){case"start":f[s]-=h*(n&&l?-1:1);break;case"end":f[s]+=h*(n&&l?-1:1);break}return f}async function To(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:i,rects:s,elements:c,strategy:a}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:f=0}=Re(e,t),b=Zt(f),y=c[h?m==="floating"?"reference":"floating":m],x=je(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:l,rootBoundary:u,strategy:a})),C=m==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),E=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},I=je(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:R,strategy:a}):C);return{top:(x.top-I.top+b.top)/E.y,bottom:(I.bottom-x.bottom+b.bottom)/E.y,left:(x.left-I.left+b.left)/E.x,right:(I.right-x.right+b.right)/E.x}}const Ao=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let l=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:m}=Tt(l,o,a),h=o,f={},b=0;for(let y=0;y<c.length;y++){var g;const{name:x,fn:C}=c[y],{x:R,y:E,data:I,reset:P}=await C({x:u,y:m,initialPlacement:o,placement:h,strategy:r,middlewareData:f,rects:l,platform:{...s,detectOverflow:(g=s.detectOverflow)!=null?g:To},elements:{reference:t,floating:e}});u=R??u,m=E??m,f={...f,[x]:{...f[x],...I}},P&&b<=50&&(b++,typeof P=="object"&&(P.placement&&(h=P.placement),P.rects&&(l=P.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):P.rects),{x:u,y:m}=Tt(l,h,a)),y=-1)}return{x:u,y:m,placement:h,strategy:r,middlewareData:f}},Po=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:i,platform:s,elements:c,middlewareData:a}=e,{element:l,padding:u=0}=Re(t,e)||{};if(l==null)return{};const m=Zt(u),h={x:n,y:o},f=bt(r),b=vt(f),g=await s.getDimensions(l),y=f==="y",x=y?"top":"left",C=y?"bottom":"right",R=y?"clientHeight":"clientWidth",E=i.reference[b]+i.reference[f]-h[f]-i.floating[b],I=h[f]-i.reference[f],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let M=P?P[R]:0;(!M||!await(s.isElement==null?void 0:s.isElement(P)))&&(M=c.floating[R]||i.floating[b]);const D=E/2-I/2,W=M/2-g[b]/2-1,F=ge(m[x],W),B=ge(m[C],W),N=F,A=M-g[b]-B,p=M/2-g[b]/2+D,k=ft(N,p,A),L=!a.arrow&&Ee(r)!=null&&p!==k&&i.reference[b]/2-(p<N?F:B)-g[b]/2<0,w=L?p<N?p-N:p-A:0;return{[f]:h[f]+w,data:{[f]:k,centerOffset:p-k-w,...L&&{alignmentOffset:w}},reset:L}}}),Oo=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:c,platform:a,elements:l}=e,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...y}=Re(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=pe(r),C=ae(c),R=pe(c)===c,E=await(a.isRTL==null?void 0:a.isRTL(l.floating)),I=h||(R||!g?[Be(c)]:Vn(c)),P=b!=="none";!h&&P&&I.push(...Kn(c,g,b,E));const M=[c,...I],D=await a.detectOverflow(e,y),W=[];let F=((o=i.flip)==null?void 0:o.overflows)||[];if(u&&W.push(D[x]),m){const p=$n(r,s,E);W.push(D[p[0]],D[p[1]])}if(F=[...F,{placement:r,overflows:W}],!W.every(p=>p<=0)){var B,N;const p=(((B=i.flip)==null?void 0:B.index)||0)+1,k=M[p];if(k&&(!(m==="alignment"?C!==ae(k):!1)||F.every(v=>ae(v.placement)===C?v.overflows[0]>0:!0)))return{data:{index:p,overflows:F},reset:{placement:k}};let L=(N=F.filter(w=>w.overflows[0]<=0).sort((w,v)=>w.overflows[1]-v.overflows[1])[0])==null?void 0:N.placement;if(!L)switch(f){case"bestFit":{var A;const w=(A=F.filter(v=>{if(P){const S=ae(v.placement);return S===C||S==="y"}return!0}).map(v=>[v.placement,v.overflows.filter(S=>S>0).reduce((S,O)=>S+O,0)]).sort((v,S)=>v[1]-S[1])[0])==null?void 0:A[0];w&&(L=w);break}case"initialPlacement":L=c;break}if(r!==L)return{reset:{placement:L}}}return{}}}},Lo=new Set(["left","top"]);async function Io(t,e){const{placement:n,platform:o,elements:r}=t,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=pe(n),c=Ee(n),a=ae(n)==="y",l=Lo.has(s)?-1:1,u=i&&a?-1:1,m=Re(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof b=="number"&&(f=c==="end"?b*-1:b),a?{x:f*u,y:h*l}:{x:h*l,y:f*u}}const Mo=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:i,placement:s,middlewareData:c}=e,a=await Io(e,t);return s===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:i+a.y,data:{...a,placement:s}}}}},ko=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r,platform:i}=e,{mainAxis:s=!0,crossAxis:c=!1,limiter:a={fn:x=>{let{x:C,y:R}=x;return{x:C,y:R}}},...l}=Re(t,e),u={x:n,y:o},m=await i.detectOverflow(e,l),h=ae(pe(r)),f=Gt(h);let b=u[f],g=u[h];if(s){const x=f==="y"?"top":"left",C=f==="y"?"bottom":"right",R=b+m[x],E=b-m[C];b=ft(R,b,E)}if(c){const x=h==="y"?"top":"left",C=h==="y"?"bottom":"right",R=g+m[x],E=g-m[C];g=ft(R,g,E)}const y=a.fn({...e,[f]:b,[h]:g});return{...y,data:{x:y.x-n,y:y.y-o,enabled:{[f]:s,[h]:c}}}}}},Do=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:i,platform:s,elements:c}=e,{apply:a=()=>{},...l}=Re(t,e),u=await s.detectOverflow(e,l),m=pe(r),h=Ee(r),f=ae(r)==="y",{width:b,height:g}=i.floating;let y,x;m==="top"||m==="bottom"?(y=m,x=h===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(x=m,y=h==="end"?"top":"bottom");const C=g-u.top-u.bottom,R=b-u.left-u.right,E=ge(g-u[y],C),I=ge(b-u[x],R),P=!e.middlewareData.shift;let M=E,D=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(D=R),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(M=C),P&&!h){const F=ee(u.left,0),B=ee(u.right,0),N=ee(u.top,0),A=ee(u.bottom,0);f?D=b-2*(F!==0||B!==0?F+B:ee(u.left,u.right)):M=g-2*(N!==0||A!==0?N+A:ee(u.top,u.bottom))}await a({...e,availableWidth:D,availableHeight:M});const W=await s.getDimensions(c.floating);return b!==W.width||g!==W.height?{reset:{rects:!0}}:{}}}};function cn(t){const e=ne(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=G(t),i=r?t.offsetWidth:n,s=r?t.offsetHeight:o,c=We(n)!==i||We(o)!==s;return c&&(n=i,o=s),{width:n,height:o,$:c}}function yt(t){return H(t)?t:t.contextElement}function we(t){const e=yt(t);if(!G(e))return ce(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:i}=cn(e);let s=(i?We(n.width):n.width)/o,c=(i?We(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const Fo=ce(0);function ln(t){const e=te(t);return!ze()||!e.visualViewport?Fo:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function No(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==te(t)?!1:e}function be(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=yt(t);let s=ce(1);e&&(o?H(o)&&(s=we(o)):s=we(t));const c=No(i,n,o)?ln(i):ce(0);let a=(r.left+c.x)/s.x,l=(r.top+c.y)/s.y,u=r.width/s.x,m=r.height/s.y;if(i){const h=te(i),f=o&&H(o)?te(o):o;let b=h,g=ut(b);for(;g&&o&&f!==b;){const y=we(g),x=g.getBoundingClientRect(),C=ne(g),R=x.left+(g.clientLeft+parseFloat(C.paddingLeft))*y.x,E=x.top+(g.clientTop+parseFloat(C.paddingTop))*y.y;a*=y.x,l*=y.y,u*=y.x,m*=y.y,a+=R,l+=E,b=te(g),g=ut(b)}}return je({width:u,height:m,x:a,y:l})}function Ue(t,e){const n=qe(t).scrollLeft;return e?e.left+n:be(le(t)).left+n}function an(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-Ue(t,n),r=n.top+e.scrollTop;return{x:o,y:r}}function _o(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const i=r==="fixed",s=le(o),c=e?Ke(e.floating):!1;if(o===s||c&&i)return n;let a={scrollLeft:0,scrollTop:0},l=ce(1);const u=ce(0),m=G(o);if((m||!m&&!i)&&((xe(o)!=="body"||Pe(s))&&(a=qe(o)),G(o))){const f=be(o);l=we(o),u.x=f.x+o.clientLeft,u.y=f.y+o.clientTop}const h=s&&!m&&!i?an(s,a):ce(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-a.scrollTop*l.y+u.y+h.y}}function Wo(t){return Array.from(t.getClientRects())}function Bo(t){const e=le(t),n=qe(t),o=t.ownerDocument.body,r=ee(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),i=ee(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+Ue(t);const c=-n.scrollTop;return ne(o).direction==="rtl"&&(s+=ee(e.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:c}}const At=25;function jo(t,e){const n=te(t),o=le(t),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,c=0,a=0;if(r){i=r.width,s=r.height;const u=ze();(!u||u&&e==="fixed")&&(c=r.offsetLeft,a=r.offsetTop)}const l=Ue(o);if(l<=0){const u=o.ownerDocument,m=u.body,h=getComputedStyle(m),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,b=Math.abs(o.clientWidth-m.clientWidth-f);b<=At&&(i-=b)}else l<=At&&(i+=l);return{width:i,height:s,x:c,y:a}}const $o=new Set(["absolute","fixed"]);function Vo(t,e){const n=be(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,i=G(t)?we(t):ce(1),s=t.clientWidth*i.x,c=t.clientHeight*i.y,a=r*i.x,l=o*i.y;return{width:s,height:c,x:a,y:l}}function Pt(t,e,n){let o;if(e==="viewport")o=jo(t,n);else if(e==="document")o=Bo(le(t));else if(H(e))o=Vo(e,n);else{const r=ln(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return je(o)}function un(t,e){const n=de(t);return n===e||!H(n)||fe(n)?!1:ne(n).position==="fixed"||un(n,e)}function Ho(t,e){const n=e.get(t);if(n)return n;let o=me(t,[],!1).filter(c=>H(c)&&xe(c)!=="body"),r=null;const i=ne(t).position==="fixed";let s=i?de(t):t;for(;H(s)&&!fe(s);){const c=ne(s),a=ht(s);!a&&c.position==="fixed"&&(r=null),(i?!a&&!r:!a&&c.position==="static"&&!!r&&$o.has(r.position)||Pe(s)&&!a&&un(t,s))?o=o.filter(u=>u!==s):r=c,s=de(s)}return e.set(t,o),o}function Xo(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const s=[...n==="clippingAncestors"?Ke(e)?[]:Ho(e,this._c):[].concat(n),o],c=s[0],a=s.reduce((l,u)=>{const m=Pt(e,u,r);return l.top=ee(m.top,l.top),l.right=ge(m.right,l.right),l.bottom=ge(m.bottom,l.bottom),l.left=ee(m.left,l.left),l},Pt(e,c,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Yo(t){const{width:e,height:n}=cn(t);return{width:e,height:n}}function Ko(t,e,n){const o=G(e),r=le(e),i=n==="fixed",s=be(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const a=ce(0);function l(){a.x=Ue(r)}if(o||!o&&!i)if((xe(e)!=="body"||Pe(r))&&(c=qe(e)),o){const f=be(e,!0,i,e);a.x=f.x+e.clientLeft,a.y=f.y+e.clientTop}else r&&l();i&&!o&&r&&l();const u=r&&!o&&!i?an(r,c):ce(0),m=s.left+c.scrollLeft-a.x-u.x,h=s.top+c.scrollTop-a.y-u.y;return{x:m,y:h,width:s.width,height:s.height}}function nt(t){return ne(t).position==="static"}function Ot(t,e){if(!G(t)||ne(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return le(t)===n&&(n=n.ownerDocument.body),n}function fn(t,e){const n=te(t);if(Ke(t))return n;if(!G(t)){let r=de(t);for(;r&&!fe(r);){if(H(r)&&!nt(r))return r;r=de(r)}return n}let o=Ot(t,e);for(;o&&In(o)&&nt(o);)o=Ot(o,e);return o&&fe(o)&&nt(o)&&!ht(o)?n:o||Nn(t)||n}const zo=async function(t){const e=this.getOffsetParent||fn,n=this.getDimensions,o=await n(t.floating);return{reference:Ko(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function qo(t){return ne(t).direction==="rtl"}const Uo={convertOffsetParentRelativeRectToViewportRelativeRect:_o,getDocumentElement:le,getClippingRect:Xo,getOffsetParent:fn,getElementRects:zo,getClientRects:Wo,getDimensions:Yo,getScale:we,isElement:H,isRTL:qo};function dn(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Go(t,e){let n=null,o;const r=le(t);function i(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function s(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),i();const l=t.getBoundingClientRect(),{left:u,top:m,width:h,height:f}=l;if(c||e(),!h||!f)return;const b=Me(m),g=Me(r.clientWidth-(u+h)),y=Me(r.clientHeight-(m+f)),x=Me(u),R={rootMargin:-b+"px "+-g+"px "+-y+"px "+-x+"px",threshold:ee(0,ge(1,a))||1};let E=!0;function I(P){const M=P[0].intersectionRatio;if(M!==a){if(!E)return s();M?s(!1,M):o=setTimeout(()=>{s(!1,1e-7)},1e3)}M===1&&!dn(l,t.getBoundingClientRect())&&s(),E=!1}try{n=new IntersectionObserver(I,{...R,root:r.ownerDocument})}catch{n=new IntersectionObserver(I,R)}n.observe(t)}return s(!0),i}function Zo(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,l=yt(t),u=r||i?[...l?me(l):[],...me(e)]:[];u.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const m=l&&c?Go(l,n):null;let h=-1,f=null;s&&(f=new ResizeObserver(x=>{let[C]=x;C&&C.target===l&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var R;(R=f)==null||R.observe(e)})),n()}),l&&!a&&f.observe(l),f.observe(e));let b,g=a?be(t):null;a&&y();function y(){const x=be(t);g&&!dn(g,x)&&n(),g=x,b=requestAnimationFrame(y)}return n(),()=>{var x;u.forEach(C=>{r&&C.removeEventListener("scroll",n),i&&C.removeEventListener("resize",n)}),m?.(),(x=f)==null||x.disconnect(),f=null,a&&cancelAnimationFrame(b)}}const Qo=Mo,Jo=ko,er=Oo,tr=Do,Lt=Po,nr=(t,e,n)=>{const o=new Map,r={platform:Uo,...n},i={...r.platform,_c:o};return Ao(t,e,{...r,platform:i})};var or=typeof document<"u",rr=function(){},Ne=or?d.useLayoutEffect:rr;function Xe(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Xe(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&t.$$typeof)&&!Xe(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function mn(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function It(t,e){const n=mn(t);return Math.round(e*n)/n}function ot(t){const e=d.useRef(t);return Ne(()=>{e.current=t}),e}function ir(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:a,open:l}=t,[u,m]=d.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=d.useState(o);Xe(h,o)||f(o);const[b,g]=d.useState(null),[y,x]=d.useState(null),C=d.useCallback(v=>{v!==P.current&&(P.current=v,g(v))},[]),R=d.useCallback(v=>{v!==M.current&&(M.current=v,x(v))},[]),E=i||b,I=s||y,P=d.useRef(null),M=d.useRef(null),D=d.useRef(u),W=a!=null,F=ot(a),B=ot(r),N=ot(l),A=d.useCallback(()=>{if(!P.current||!M.current)return;const v={placement:e,strategy:n,middleware:h};B.current&&(v.platform=B.current),nr(P.current,M.current,v).then(S=>{const O={...S,isPositioned:N.current!==!1};p.current&&!Xe(D.current,O)&&(D.current=O,qt.flushSync(()=>{m(O)}))})},[h,e,n,B,N]);Ne(()=>{l===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(v=>({...v,isPositioned:!1})))},[l]);const p=d.useRef(!1);Ne(()=>(p.current=!0,()=>{p.current=!1}),[]),Ne(()=>{if(E&&(P.current=E),I&&(M.current=I),E&&I){if(F.current)return F.current(E,I,A);A()}},[E,I,A,F,W]);const k=d.useMemo(()=>({reference:P,floating:M,setReference:C,setFloating:R}),[C,R]),L=d.useMemo(()=>({reference:E,floating:I}),[E,I]),w=d.useMemo(()=>{const v={position:n,left:0,top:0};if(!L.floating)return v;const S=It(L.floating,u.x),O=It(L.floating,u.y);return c?{...v,transform:"translate("+S+"px, "+O+"px)",...mn(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:S,top:O}},[n,c,L.floating,u.x,u.y]);return d.useMemo(()=>({...u,update:A,refs:k,elements:L,floatingStyles:w}),[u,A,k,L,w])}const sr=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:r}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?Lt({element:o.current,padding:r}).fn(n):{}:o?Lt({element:o,padding:r}).fn(n):{}}}},cr=(t,e)=>({...Qo(t),options:[t,e]}),lr=(t,e)=>({...Jo(t),options:[t,e]}),ar=(t,e)=>({...er(t),options:[t,e]}),ur=(t,e)=>({...tr(t),options:[t,e]}),fr=(t,e)=>({...sr(t),options:[t,e]});function dr(t){const e=d.useRef(void 0),n=d.useCallback(o=>{const r=t.map(i=>{if(i!=null){if(typeof i=="function"){const s=i,c=s(o);return typeof c=="function"?c:()=>{s(null)}}return i.current=o,()=>{i.current=null}}});return()=>{r.forEach(i=>i?.())}},t);return d.useMemo(()=>t.every(o=>o==null)?null:o=>{e.current&&(e.current(),e.current=void 0),o!=null&&(e.current=n(o))},t)}const mr=d.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function ti(t){t===void 0&&(t={});const{label:e}=t,{register:n,unregister:o,map:r,elementsRef:i,labelsRef:s}=d.useContext(mr),[c,a]=d.useState(null),l=d.useRef(null),u=d.useCallback(m=>{if(l.current=m,c!==null&&(i.current[c]=m,s)){var h;const f=e!==void 0;s.current[c]=f?e:(h=m?.textContent)!=null?h:null}},[c,i,s,e]);return q(()=>{const m=l.current;if(m)return n(m),()=>{o(m)}},[n,o]),q(()=>{const m=l.current?r.get(l.current):null;m!=null&&a(m)},[r]),d.useMemo(()=>({ref:u,index:c??-1}),[c,u])}const gr="data-floating-ui-focusable",Mt="active",kt="selected",pr={...zt};let Dt=!1,hr=0;const Ft=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+hr++;function vr(){const[t,e]=d.useState(()=>Dt?Ft():void 0);return q(()=>{t==null&&e(Ft())},[]),d.useEffect(()=>{Dt=!0},[]),t}const br=pr.useId,Ge=br||vr,yr=d.forwardRef(function(e,n){const{context:{placement:o,elements:{floating:r},middlewareData:{arrow:i,shift:s}},width:c=14,height:a=7,tipRadius:l=0,strokeWidth:u=0,staticOffset:m,stroke:h,d:f,style:{transform:b,...g}={},...y}=e,x=Ge(),[C,R]=d.useState(!1);if(q(()=>{if(!r)return;ne(r).direction==="rtl"&&R(!0)},[r]),!r)return null;const[E,I]=o.split("-"),P=E==="top"||E==="bottom";let M=m;(P&&s!=null&&s.x||!P&&s!=null&&s.y)&&(M=null);const D=u*2,W=D/2,F=c/2*(l/-8+1),B=a/2*l/4,N=!!f,A=M&&I==="end"?"bottom":"top";let p=M&&I==="end"?"right":"left";M&&C&&(p=I==="end"?"left":"right");const k=i?.x!=null?M||i.x:"",L=i?.y!=null?M||i.y:"",w=f||"M0,0"+(" H"+c)+(" L"+(c-F)+","+(a-B))+(" Q"+c/2+","+a+" "+F+","+(a-B))+" Z",v={top:N?"rotate(180deg)":"",left:N?"rotate(90deg)":"rotate(-90deg)",bottom:N?"":"rotate(180deg)",right:N?"rotate(-90deg)":"rotate(90deg)"}[E];return V.jsxs("svg",{...y,"aria-hidden":!0,ref:n,width:N?c:c+D,height:c,viewBox:"0 0 "+c+" "+(a>c?a:c),style:{position:"absolute",pointerEvents:"none",[p]:k,[A]:L,[E]:P||N?"100%":"calc(100% - "+D/2+"px)",transform:[v,b].filter(S=>!!S).join(" "),...g},children:[D>0&&V.jsx("path",{clipPath:"url(#"+x+")",fill:"none",stroke:h,strokeWidth:D+(f?0:1),d:w}),V.jsx("path",{stroke:D&&!f?y.fill:"none",d:w}),V.jsx("clipPath",{id:x,children:V.jsx("rect",{x:-W,y:W*(N?-1:1),width:c+D,height:c})})]})});function gn(){const t=new Map;return{emit(e,n){var o;(o=t.get(e))==null||o.forEach(r=>r(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var o;(o=t.get(e))==null||o.delete(n)}}}const pn=d.createContext(null),hn=d.createContext(null),Oe=()=>{var t;return((t=d.useContext(pn))==null?void 0:t.id)||null},Le=()=>d.useContext(hn);function wr(t){const e=Ge(),n=Le(),r=Oe();return q(()=>{if(!e)return;const i={id:e,parentId:r};return n?.addNode(i),()=>{n?.removeNode(i)}},[n,e,r]),e}function xr(t){const{children:e,id:n}=t,o=Oe();return V.jsx(pn.Provider,{value:d.useMemo(()=>({id:n,parentId:o}),[n,o]),children:e})}function ni(t){const{children:e}=t,n=d.useRef([]),o=d.useCallback(s=>{n.current=[...n.current,s]},[]),r=d.useCallback(s=>{n.current=n.current.filter(c=>c!==s)},[]),[i]=d.useState(()=>gn());return V.jsx(hn.Provider,{value:d.useMemo(()=>({nodesRef:n,addNode:o,removeNode:r,events:i}),[o,r,i]),children:e})}function Ze(t){return"data-floating-ui-"+t}function J(t){t.current!==-1&&(clearTimeout(t.current),t.current=-1)}const Nt=Ze("safe-polygon");function rt(t,e,n){if(n&&!Ae(n))return 0;if(typeof t=="number")return t;if(typeof t=="function"){const o=t();return typeof o=="number"?o:o?.[e]}return t?.[e]}function it(t){return typeof t=="function"?t():t}function Rr(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,dataRef:r,events:i,elements:s}=t,{enabled:c=!0,delay:a=0,handleClose:l=null,mouseOnly:u=!1,restMs:m=0,move:h=!0}=e,f=Le(),b=Oe(),g=ke(l),y=ke(a),x=ke(n),C=ke(m),R=d.useRef(),E=d.useRef(-1),I=d.useRef(),P=d.useRef(-1),M=d.useRef(!0),D=d.useRef(!1),W=d.useRef(()=>{}),F=d.useRef(!1),B=se(()=>{var w;const v=(w=r.current.openEvent)==null?void 0:w.type;return v?.includes("mouse")&&v!=="mousedown"});d.useEffect(()=>{if(!c)return;function w(v){let{open:S}=v;S||(J(E),J(P),M.current=!0,F.current=!1)}return i.on("openchange",w),()=>{i.off("openchange",w)}},[c,i]),d.useEffect(()=>{if(!c||!g.current||!n)return;function w(S){B()&&o(!1,S,"hover")}const v=ue(s.floating).documentElement;return v.addEventListener("mouseleave",w),()=>{v.removeEventListener("mouseleave",w)}},[s.floating,n,o,c,g,B]);const N=d.useCallback(function(w,v,S){v===void 0&&(v=!0),S===void 0&&(S="hover");const O=rt(y.current,"close",R.current);O&&!I.current?(J(E),E.current=window.setTimeout(()=>o(!1,w,S),O)):v&&(J(E),o(!1,w,S))},[y,o]),A=se(()=>{W.current(),I.current=void 0}),p=se(()=>{if(D.current){const w=ue(s.floating).body;w.style.pointerEvents="",w.removeAttribute(Nt),D.current=!1}}),k=se(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);d.useEffect(()=>{if(!c)return;function w(T){if(J(E),M.current=!1,u&&!Ae(R.current)||it(C.current)>0&&!rt(y.current,"open"))return;const j=rt(y.current,"open",R.current);j?E.current=window.setTimeout(()=>{x.current||o(!0,T,"hover")},j):n||o(!0,T,"hover")}function v(T){if(k()){p();return}W.current();const j=ue(s.floating);if(J(P),F.current=!1,g.current&&r.current.floatingContext){n||J(E),I.current=g.current({...r.current.floatingContext,tree:f,x:T.clientX,y:T.clientY,onClose(){p(),A(),k()||N(T,!0,"safe-polygon")}});const $=I.current;j.addEventListener("mousemove",$),W.current=()=>{j.removeEventListener("mousemove",$)};return}(R.current!=="touch"||!He(s.floating,T.relatedTarget))&&N(T)}function S(T){k()||r.current.floatingContext&&(g.current==null||g.current({...r.current.floatingContext,tree:f,x:T.clientX,y:T.clientY,onClose(){p(),A(),k()||N(T)}})(T))}function O(){J(E)}function X(T){k()||N(T,!1)}if(H(s.domReference)){const T=s.domReference,j=s.floating;return n&&T.addEventListener("mouseleave",S),h&&T.addEventListener("mousemove",w,{once:!0}),T.addEventListener("mouseenter",w),T.addEventListener("mouseleave",v),j&&(j.addEventListener("mouseleave",S),j.addEventListener("mouseenter",O),j.addEventListener("mouseleave",X)),()=>{n&&T.removeEventListener("mouseleave",S),h&&T.removeEventListener("mousemove",w),T.removeEventListener("mouseenter",w),T.removeEventListener("mouseleave",v),j&&(j.removeEventListener("mouseleave",S),j.removeEventListener("mouseenter",O),j.removeEventListener("mouseleave",X))}}},[s,c,t,u,h,N,A,p,o,n,x,f,y,g,r,k,C]),q(()=>{var w;if(c&&n&&(w=g.current)!=null&&(w=w.__options)!=null&&w.blockPointerEvents&&B()){D.current=!0;const S=s.floating;if(H(s.domReference)&&S){var v;const O=ue(s.floating).body;O.setAttribute(Nt,"");const X=s.domReference,T=f==null||(v=f.nodesRef.current.find(j=>j.id===b))==null||(v=v.context)==null?void 0:v.elements.floating;return T&&(T.style.pointerEvents=""),O.style.pointerEvents="none",X.style.pointerEvents="auto",S.style.pointerEvents="auto",()=>{O.style.pointerEvents="",X.style.pointerEvents="",S.style.pointerEvents=""}}}},[c,n,b,s,f,g,B]),q(()=>{n||(R.current=void 0,F.current=!1,A(),p())},[n,A,p]),d.useEffect(()=>()=>{A(),J(E),J(P),p()},[c,s.domReference,A,p]);const L=d.useMemo(()=>{function w(v){R.current=v.pointerType}return{onPointerDown:w,onPointerEnter:w,onMouseMove(v){const{nativeEvent:S}=v;function O(){!M.current&&!x.current&&o(!0,S,"hover")}u&&!Ae(R.current)||n||it(C.current)===0||F.current&&v.movementX**2+v.movementY**2<2||(J(P),R.current==="touch"?O():(F.current=!0,P.current=window.setTimeout(O,it(C.current))))}}},[u,o,n,x,C]);return d.useMemo(()=>c?{reference:L}:{},[c,L])}function st(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&_e(n)){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1}function Er(t){return"composedPath"in t?t.composedPath()[0]:t.target}const Cr={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},_t=d.forwardRef(function(e,n){const[o,r]=d.useState();q(()=>{fo()&&r("button")},[]);const i={ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,[Ze("focus-guard")]:"",style:Cr};return V.jsx("span",{...e,...i})}),Sr={clipPath:"inset(50%)",position:"fixed",top:0,left:0},vn=d.createContext(null),Wt=Ze("portal");function Tr(t){t===void 0&&(t={});const{id:e,root:n}=t,o=Ge(),r=Pr(),[i,s]=d.useState(null),c=d.useRef(null);return q(()=>()=>{i?.remove(),queueMicrotask(()=>{c.current=null})},[i]),q(()=>{if(!o||c.current)return;const a=e?document.getElementById(e):null;if(!a)return;const l=document.createElement("div");l.id=o,l.setAttribute(Wt,""),a.appendChild(l),c.current=l,s(l)},[e,o]),q(()=>{if(n===null||!o||c.current)return;let a=n||r?.portalNode;a&&!pt(a)&&(a=a.current),a=a||document.body;let l=null;e&&(l=document.createElement("div"),l.id=e,a.appendChild(l));const u=document.createElement("div");u.id=o,u.setAttribute(Wt,""),a=l||a,a.appendChild(u),c.current=u,s(u)},[e,n,o,r]),i}function Ar(t){const{children:e,id:n,root:o,preserveTabOrder:r=!0}=t,i=Tr({id:n,root:o}),[s,c]=d.useState(null),a=d.useRef(null),l=d.useRef(null),u=d.useRef(null),m=d.useRef(null),h=s?.modal,f=s?.open,b=!!s&&!s.modal&&s.open&&r&&!!(o||i);return d.useEffect(()=>{if(!i||!r||h)return;function g(y){i&&tt(y)&&(y.type==="focusin"?St:So)(i)}return i.addEventListener("focusin",g,!0),i.addEventListener("focusout",g,!0),()=>{i.removeEventListener("focusin",g,!0),i.removeEventListener("focusout",g,!0)}},[i,r,h]),d.useEffect(()=>{i&&(f||St(i))},[f,i]),V.jsxs(vn.Provider,{value:d.useMemo(()=>({preserveTabOrder:r,beforeOutsideRef:a,afterOutsideRef:l,beforeInsideRef:u,afterInsideRef:m,portalNode:i,setFocusManagerState:c}),[r,i]),children:[b&&i&&V.jsx(_t,{"data-type":"outside",ref:a,onFocus:g=>{if(tt(g,i)){var y;(y=u.current)==null||y.focus()}else{const x=s?s.domReference:null,C=Co(x);C?.focus()}}}),b&&i&&V.jsx("span",{"aria-owns":i.id,style:Sr}),i&&qt.createPortal(e,i),b&&i&&V.jsx(_t,{"data-type":"outside",ref:l,onFocus:g=>{if(tt(g,i)){var y;(y=m.current)==null||y.focus()}else{const x=s?s.domReference:null,C=Eo(x);C?.focus(),s?.closeOnFocusOut&&s?.onOpenChange(!1,g.nativeEvent,"focus-out")}}})]})}const Pr=()=>d.useContext(vn);let De=0;const Bt="--floating-ui-scrollbar-width";function Or(){const t=uo(),e=/iP(hone|ad|od)|iOS/.test(t)||t==="MacIntel"&&navigator.maxTouchPoints>1,n=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,s=n.left?parseFloat(n.left):window.scrollX,c=n.top?parseFloat(n.top):window.scrollY;if(n.overflow="hidden",n.setProperty(Bt,i+"px"),i&&(n[r]=i+"px"),e){var a,l;const u=((a=window.visualViewport)==null?void 0:a.offsetLeft)||0,m=((l=window.visualViewport)==null?void 0:l.offsetTop)||0;Object.assign(n,{position:"fixed",top:-(c-Math.floor(m))+"px",left:-(s-Math.floor(u))+"px",right:"0"})}return()=>{Object.assign(n,{overflow:"",[r]:""}),n.removeProperty(Bt),e&&(Object.assign(n,{position:"",top:"",left:"",right:""}),window.scrollTo(s,c))}}let jt=()=>{};const Lr=d.forwardRef(function(e,n){const{lockScroll:o=!1,...r}=e;return q(()=>{if(o)return De++,De===1&&(jt=Or()),()=>{De--,De===0&&jt()}},[o]),V.jsx("div",{ref:n,...r,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}})});function $t(t){return G(t.target)&&t.target.tagName==="BUTTON"}function Ir(t){return G(t.target)&&t.target.tagName==="A"}function Vt(t){return ho(t)}function Mr(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,dataRef:r,elements:{domReference:i}}=t,{enabled:s=!0,event:c="click",toggle:a=!0,ignoreMouse:l=!1,keyboardHandlers:u=!0,stickIfOpen:m=!0}=e,h=d.useRef(),f=d.useRef(!1),b=d.useMemo(()=>({onPointerDown(g){h.current=g.pointerType},onMouseDown(g){const y=h.current;g.button===0&&c!=="click"&&(Ae(y,!0)&&l||(n&&a&&(!(r.current.openEvent&&m)||r.current.openEvent.type==="mousedown")?o(!1,g.nativeEvent,"click"):(g.preventDefault(),o(!0,g.nativeEvent,"click"))))},onClick(g){const y=h.current;if(c==="mousedown"&&h.current){h.current=void 0;return}Ae(y,!0)&&l||(n&&a&&(!(r.current.openEvent&&m)||r.current.openEvent.type==="click")?o(!1,g.nativeEvent,"click"):o(!0,g.nativeEvent,"click"))},onKeyDown(g){h.current=void 0,!(g.defaultPrevented||!u||$t(g))&&(g.key===" "&&!Vt(i)&&(g.preventDefault(),f.current=!0),!Ir(g)&&g.key==="Enter"&&o(!(n&&a),g.nativeEvent,"click"))},onKeyUp(g){g.defaultPrevented||!u||$t(g)||Vt(i)||g.key===" "&&f.current&&(f.current=!1,o(!(n&&a),g.nativeEvent,"click"))}}),[r,i,c,l,u,o,n,m,a]);return d.useMemo(()=>s?{reference:b}:{},[s,b])}const kr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Dr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ht=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function Fr(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,elements:r,dataRef:i}=t,{enabled:s=!0,escapeKey:c=!0,outsidePress:a=!0,outsidePressEvent:l="pointerdown",referencePress:u=!1,referencePressEvent:m="pointerdown",ancestorScroll:h=!1,bubbles:f,capture:b}=e,g=Le(),y=se(typeof a=="function"?a:()=>!1),x=typeof a=="function"?y:a,C=d.useRef(!1),{escapeKey:R,outsidePress:E}=Ht(f),{escapeKey:I,outsidePress:P}=Ht(b),M=d.useRef(!1),D=se(p=>{var k;if(!n||!s||!c||p.key!=="Escape"||M.current)return;const L=(k=i.current.floatingContext)==null?void 0:k.nodeId,w=g?Fe(g.nodesRef.current,L):[];if(!R&&(p.stopPropagation(),w.length>0)){let v=!0;if(w.forEach(S=>{var O;if((O=S.context)!=null&&O.open&&!S.context.dataRef.current.__escapeKeyBubbles){v=!1;return}}),!v)return}o(!1,vo(p)?p.nativeEvent:p,"escape-key")}),W=se(p=>{var k;const L=()=>{var w;D(p),(w=Se(p))==null||w.removeEventListener("keydown",L)};(k=Se(p))==null||k.addEventListener("keydown",L)}),F=se(p=>{var k;const L=i.current.insideReactTree;i.current.insideReactTree=!1;const w=C.current;if(C.current=!1,l==="click"&&w||L||typeof x=="function"&&!x(p))return;const v=Se(p),S="["+Ze("inert")+"]",O=ue(r.floating).querySelectorAll(S);let X=H(v)?v:null;for(;X&&!fe(X);){const $=de(X);if(fe($)||!H($))break;X=$}if(O.length&&H(v)&&!po(v)&&!He(v,r.floating)&&Array.from(O).every($=>!He(X,$)))return;if(G(v)&&A){const $=fe(v),Z=ne(v),oe=/auto|scroll/,Y=$||oe.test(Z.overflowX),K=$||oe.test(Z.overflowY),re=Y&&v.clientWidth>0&&v.scrollWidth>v.clientWidth,U=K&&v.clientHeight>0&&v.scrollHeight>v.clientHeight,ie=Z.direction==="rtl",Ie=U&&(ie?p.offsetX<=v.offsetWidth-v.clientWidth:p.offsetX>v.clientWidth),Qe=re&&p.offsetY>v.clientHeight;if(Ie||Qe)return}const T=(k=i.current.floatingContext)==null?void 0:k.nodeId,j=g&&Fe(g.nodesRef.current,T).some($=>{var Z;return et(p,(Z=$.context)==null?void 0:Z.elements.floating)});if(et(p,r.floating)||et(p,r.domReference)||j)return;const _=g?Fe(g.nodesRef.current,T):[];if(_.length>0){let $=!0;if(_.forEach(Z=>{var oe;if((oe=Z.context)!=null&&oe.open&&!Z.context.dataRef.current.__outsidePressBubbles){$=!1;return}}),!$)return}o(!1,p,"outside-press")}),B=se(p=>{var k;const L=()=>{var w;F(p),(w=Se(p))==null||w.removeEventListener(l,L)};(k=Se(p))==null||k.addEventListener(l,L)});d.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=R,i.current.__outsidePressBubbles=E;let p=-1;function k(O){o(!1,O,"ancestor-scroll")}function L(){window.clearTimeout(p),M.current=!0}function w(){p=window.setTimeout(()=>{M.current=!1},ze()?5:0)}const v=ue(r.floating);c&&(v.addEventListener("keydown",I?W:D,I),v.addEventListener("compositionstart",L),v.addEventListener("compositionend",w)),x&&v.addEventListener(l,P?B:F,P);let S=[];return h&&(H(r.domReference)&&(S=me(r.domReference)),H(r.floating)&&(S=S.concat(me(r.floating))),!H(r.reference)&&r.reference&&r.reference.contextElement&&(S=S.concat(me(r.reference.contextElement)))),S=S.filter(O=>{var X;return O!==((X=v.defaultView)==null?void 0:X.visualViewport)}),S.forEach(O=>{O.addEventListener("scroll",k,{passive:!0})}),()=>{c&&(v.removeEventListener("keydown",I?W:D,I),v.removeEventListener("compositionstart",L),v.removeEventListener("compositionend",w)),x&&v.removeEventListener(l,P?B:F,P),S.forEach(O=>{O.removeEventListener("scroll",k)}),window.clearTimeout(p)}},[i,r,c,x,l,n,o,h,s,R,E,D,I,W,F,P,B]),d.useEffect(()=>{i.current.insideReactTree=!1},[i,x,l]);const N=d.useMemo(()=>({onKeyDown:D,...u&&{[kr[m]]:p=>{o(!1,p.nativeEvent,"reference-press")},...m!=="click"&&{onClick(p){o(!1,p.nativeEvent,"reference-press")}}}}),[D,o,u,m]),A=d.useMemo(()=>({onKeyDown:D,onMouseDown(){C.current=!0},onMouseUp(){C.current=!0},[Dr[l]]:()=>{i.current.insideReactTree=!0}}),[D,l,i]);return d.useMemo(()=>s?{reference:N,floating:A}:{},[s,N,A])}function Nr(t){const{open:e=!1,onOpenChange:n,elements:o}=t,r=Ge(),i=d.useRef({}),[s]=d.useState(()=>gn()),c=Oe()!=null,[a,l]=d.useState(o.reference),u=se((f,b,g)=>{i.current.openEvent=f?b:void 0,s.emit("openchange",{open:f,event:b,reason:g,nested:c}),n?.(f,b,g)}),m=d.useMemo(()=>({setPositionReference:l}),[]),h=d.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return d.useMemo(()=>({dataRef:i,open:e,onOpenChange:u,elements:h,events:s,floatingId:r,refs:m}),[e,u,h,s,r,m])}function _r(t){t===void 0&&(t={});const{nodeId:e}=t,n=Nr({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,r=o.elements,[i,s]=d.useState(null),[c,a]=d.useState(null),u=r?.domReference||i,m=d.useRef(null),h=Le();q(()=>{u&&(m.current=u)},[u]);const f=ir({...t,elements:{...r,...c&&{reference:c}}}),b=d.useCallback(R=>{const E=H(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;a(E),f.refs.setReference(E)},[f.refs]),g=d.useCallback(R=>{(H(R)||R===null)&&(m.current=R,s(R)),(H(f.refs.reference.current)||f.refs.reference.current===null||R!==null&&!H(R))&&f.refs.setReference(R)},[f.refs]),y=d.useMemo(()=>({...f.refs,setReference:g,setPositionReference:b,domReference:m}),[f.refs,g,b]),x=d.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),C=d.useMemo(()=>({...f,...o,refs:y,elements:x,nodeId:e}),[f,y,x,e,o]);return q(()=>{o.dataRef.current.floatingContext=C;const R=h?.nodesRef.current.find(E=>E.id===e);R&&(R.context=C)}),d.useMemo(()=>({...f,context:C,refs:y,elements:x}),[f,y,x,C])}function ct(t,e,n){const o=new Map,r=n==="item";let i=t;if(r&&t){const{[Mt]:s,[kt]:c,...a}=t;i=a}return{...n==="floating"&&{tabIndex:-1,[gr]:""},...i,...e.map(s=>{const c=s?s[n]:null;return typeof c=="function"?t?c(t):null:c}).concat(t).reduce((s,c)=>(c&&Object.entries(c).forEach(a=>{let[l,u]=a;if(!(r&&[Mt,kt].includes(l)))if(l.indexOf("on")===0){if(o.has(l)||o.set(l,[]),typeof u=="function"){var m;(m=o.get(l))==null||m.push(u),s[l]=function(){for(var h,f=arguments.length,b=new Array(f),g=0;g<f;g++)b[g]=arguments[g];return(h=o.get(l))==null?void 0:h.map(y=>y(...b)).find(y=>y!==void 0)}}}else s[l]=u}),s),{})}}function Wr(t){t===void 0&&(t=[]);const e=t.map(c=>c?.reference),n=t.map(c=>c?.floating),o=t.map(c=>c?.item),r=d.useCallback(c=>ct(c,t,"reference"),e),i=d.useCallback(c=>ct(c,t,"floating"),n),s=d.useCallback(c=>ct(c,t,"item"),o);return d.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:s}),[r,i,s])}function bn(t,e,n){return n===void 0&&(n=!0),t.filter(r=>{var i;return r.parentId===e&&(!n||((i=r.context)==null?void 0:i.open))}).flatMap(r=>[r,...bn(t,r.id,n)])}function Xt(t,e){const[n,o]=t;let r=!1;const i=e.length;for(let s=0,c=i-1;s<i;c=s++){const[a,l]=e[s]||[0,0],[u,m]=e[c]||[0,0];l>=o!=m>=o&&n<=(u-a)*(o-l)/(m-l)+a&&(r=!r)}return r}function Br(t,e){return t[0]>=e.x&&t[0]<=e.x+e.width&&t[1]>=e.y&&t[1]<=e.y+e.height}function jr(t){t===void 0&&(t={});const{buffer:e=.5,blockPointerEvents:n=!1,requireIntent:o=!0}=t,r={current:-1};let i=!1,s=null,c=null,a=typeof performance<"u"?performance.now():0;function l(m,h){const f=performance.now(),b=f-a;if(s===null||c===null||b===0)return s=m,c=h,a=f,null;const g=m-s,y=h-c,C=Math.sqrt(g*g+y*y)/b;return s=m,c=h,a=f,C}const u=m=>{let{x:h,y:f,placement:b,elements:g,onClose:y,nodeId:x,tree:C}=m;return function(E){function I(){J(r),y()}if(J(r),!g.domReference||!g.floating||b==null||h==null||f==null)return;const{clientX:P,clientY:M}=E,D=[P,M],W=Er(E),F=E.type==="mouseleave",B=st(g.floating,W),N=st(g.domReference,W),A=g.domReference.getBoundingClientRect(),p=g.floating.getBoundingClientRect(),k=b.split("-")[0],L=h>p.right-p.width/2,w=f>p.bottom-p.height/2,v=Br(D,A),S=p.width>A.width,O=p.height>A.height,X=(S?A:p).left,T=(S?A:p).right,j=(O?A:p).top,_=(O?A:p).bottom;if(B&&(i=!0,!F))return;if(N&&(i=!1),N&&!F){i=!0;return}if(F&&H(E.relatedTarget)&&st(g.floating,E.relatedTarget)||C&&bn(C.nodesRef.current,x).length)return;if(k==="top"&&f>=A.bottom-1||k==="bottom"&&f<=A.top+1||k==="left"&&h>=A.right-1||k==="right"&&h<=A.left+1)return I();let $=[];switch(k){case"top":$=[[X,A.top+1],[X,p.bottom-1],[T,p.bottom-1],[T,A.top+1]];break;case"bottom":$=[[X,p.top+1],[X,A.bottom-1],[T,A.bottom-1],[T,p.top+1]];break;case"left":$=[[p.right-1,_],[p.right-1,j],[A.left+1,j],[A.left+1,_]];break;case"right":$=[[A.right-1,_],[A.right-1,j],[p.left+1,j],[p.left+1,_]];break}function Z(oe){let[Y,K]=oe;switch(k){case"top":{const re=[S?Y+e/2:L?Y+e*4:Y-e*4,K+e+1],U=[S?Y-e/2:L?Y+e*4:Y-e*4,K+e+1],ie=[[p.left,L||S?p.bottom-e:p.top],[p.right,L?S?p.bottom-e:p.top:p.bottom-e]];return[re,U,...ie]}case"bottom":{const re=[S?Y+e/2:L?Y+e*4:Y-e*4,K-e],U=[S?Y-e/2:L?Y+e*4:Y-e*4,K-e],ie=[[p.left,L||S?p.top+e:p.bottom],[p.right,L?S?p.top+e:p.bottom:p.top+e]];return[re,U,...ie]}case"left":{const re=[Y+e+1,O?K+e/2:w?K+e*4:K-e*4],U=[Y+e+1,O?K-e/2:w?K+e*4:K-e*4];return[...[[w||O?p.right-e:p.left,p.top],[w?O?p.right-e:p.left:p.right-e,p.bottom]],re,U]}case"right":{const re=[Y-e,O?K+e/2:w?K+e*4:K-e*4],U=[Y-e,O?K-e/2:w?K+e*4:K-e*4],ie=[[w||O?p.left+e:p.right,p.top],[w?O?p.left+e:p.right:p.left+e,p.bottom]];return[re,U,...ie]}}}if(!Xt([P,M],$)){if(i&&!v)return I();if(!F&&o){const oe=l(E.clientX,E.clientY);if(oe!==null&&oe<.1)return I()}Xt([P,M],Z([h,f]))?!i&&o&&(r.current=window.setTimeout(I,40)):I()}}};return u.__options={blockPointerEvents:n},u}const yn='a[href], button:not(:disabled), input:not(:disabled), textarea:not(:disabled), select:not(:disabled), [tabindex]:not([tabindex="-1"])';class oi{ref;trigger;onClose;preventEscaping;preventFocus;_getAllItems;_handler;initiator;constructor(){this.preventFocus=!1,this.preventEscaping=!1,this.initiator=document.activeElement,this._getAllItems=()=>{const e=this.ref?.current;return e?e.querySelectorAll(yn):document.querySelectorAll("DO_NOT_EXIST")}}setReference(e){this.ref=e,e.current&&this.addEventListener()}focusOnFirst(){const e=this.ref?.current,n=this._getAllItems();n.length>0?n[0].focus():e&&e.tabIndex!==-1&&e.focus()}addEventListener(){const e=this.ref?.current;e&&(this._handler=n=>{if(n.key==="Tab"){const o=this._getAllItems(),r=n.shiftKey?0:o.length-1,i=n.shiftKey?o.length-1:0;o.length>0&&document.activeElement===o[r]&&(o[i].focus(),n.preventDefault()),o.length===0&&n.preventDefault()}n.key==="Escape"&&!this.preventEscaping&&(this.trigger&&this.trigger.focus(),this.onClose&&this.onClose("escape"))},e.addEventListener("keydown",this._handler))}removeEventListener(){const e=this.ref?.current;e&&this._handler&&(e.removeEventListener("keydown",this._handler),this._handler=void 0)}}function Yt(t){return t.querySelectorAll(yn)}function $r(t){const e=d.useRef(null);return d.useEffect(()=>{if(!t.active)return;const n=o=>{if(e.current){if(o.key==="Tab"){const r=Yt(e.current),i=o.shiftKey?0:r.length-1,s=o.shiftKey?r.length-1:0;r.length>0&&document.activeElement===r[i]&&(r[s].focus(),o.preventDefault()),r.length===0&&o.preventDefault()}o.key==="Escape"&&!t.preventEscaping&&t.onClose&&t.onClose("escape")}};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n),t.trigger?.current&&t.trigger.current.focus()}},[t.active,t.open]),d.useCallback(n=>{if(e.current=n,!!t.active&&t.open&&n){const o=Yt(n);o.length>0?o[0].focus():n.tabIndex!==-1&&n.focus()}},[t.active,t.open])}function wn({defaultOpen:t,onOpenChange:e,open:n}){const o=typeof n<"u",[r,i]=d.useState(t??!1),s=(c,...a)=>{typeof e=="function"&&e(c,...a),o||i(c)};return o?{open:n,onOpenChange:e}:{open:r,onOpenChange:s}}const Vr=d.createContext(void 0),Hr={};function Xr(t=Hr){const e=Le(),n=wr(),o=Oe(),r=o===null,i=d.useMemo(()=>({nodeId:n||"invalid",parentId:o,closeAll:()=>{t.tree&&e?.events.emit("closeallfloating",{nodeId:n,parentId:o})}}),[n,o]);return d.useEffect(()=>{if(!(!t.tree||!r))return t.onCloseAll&&e?.events.on("closeallfloating",t.onCloseAll),()=>{t.onCloseAll&&e?.events.off("closeallfloating",t.onCloseAll)}},[t,t.onCloseAll,t.tree,e,r]),t.tree&&r&&(i.Provider=Vr.Provider),i}function lt(t,e){switch(t){case"reference":return`${e}px`;case"screen":return"calc(100vw - var(--sprout-common-spacing-m) * 2)";case"xxs":return ve.container_sizing_xxs;case"xs":return ve.container_sizing_xs;case"s":return ve.container_sizing_s;case"m":return ve.container_sizing_m;case"l":return ve.container_sizing_l;case"xl":return ve.container_sizing_xl;default:return t}}const ye=4,Yr={default:{mainAxis:!0,crossAxis:"alignment",fallbackAxisSideDirection:"end",flipAlignment:!0,padding:ye},dropdown:{mainAxis:!0,crossAxis:"alignment",fallbackAxisSideDirection:"none",flipAlignment:!0,padding:ye}};function Kr(t,e){return Object.keys(t).reduce((n,o)=>(o.startsWith("on")?n[o]=(...r)=>{t[o]&&typeof t[o]=="function"&&t[o](...r),e[o]&&e[o](...r)}:e[o]&&(n[o]=e[o]),n),{...e})}const zr=d.forwardRef(xn);function xn({"data-testid":t,anchorEl:e,anchorPosition:n,arrowProps:o,children:r,className:i,closeOnRightClickOutside:s,content:c,disableScrollLock:a=!1,forceMount:l,hideBackdrop:u=!1,hoverDelay:m,id:h,initialOpen:f,maxWidth:b="screen",minHeight:g,minWidth:y,offsetCross:x,offsetMain:C,onMount:R,onOpenChange:E,open:I,placement:P="bottom-start",placementUpdate:M,tree:D,trigger:W,viewportPadding:F=0,width:B,zIndex:N,...A},p){const k=Pn(h),L=W||"click",w=d.useRef(null),v=d.useMemo(()=>!e&&n?{isConnected:!0,getBoundingClientRect(){return{width:0,height:0,x:n.left,y:n.top-ye,top:n.top-ye,right:n.left,bottom:n.top-ye,left:n.left}},focus:()=>{}}:e,[e,n]),O=C||(W==="hover"?6:0)+ye,X=d.useMemo(()=>{const z=[cr({mainAxis:O,crossAxis:x||0})];z.push(ur({apply({rects:he,elements:Cn,availableHeight:Sn}){const Tn=g||0;Object.assign(Cn.floating.style,{maxHeight:`${Math.floor(Math.max(Tn,Sn-F))}px`,width:lt(B,he.reference.width),minWidth:lt(y,he.reference.width),maxWidth:lt(b,he.reference.width)})}}));const Je=ar(Yr[M===!0?"default":M||"default"]),Ce=lr({mainAxis:!0,crossAxis:M===!0});return P.includes("-")?z.push(Je,Ce):z.push(Ce,Je),o&&z.push(fr({element:w})),z},[O,x,M,P,o,g,F,B,y,b]),T=wn({open:I,onOpenChange:E,defaultOpen:f}),j=Xr({tree:D,onCloseAll:()=>T.onOpenChange?.(!1)}),_=_r({nodeId:j.nodeId,placement:P,open:!!T.open,onOpenChange:(z,Je,Ce)=>{let he;Ce==="outside-press"?he="click-outside":Ce==="escape-key"&&(he="keypress-escape"),z!==T.open&&T.onOpenChange?.(z,he)},elements:{reference:e},middleware:X});d.useEffect(()=>{if(T.open&&_.elements.reference&&_.elements.floating)return Zo(_.elements.reference,_.elements.floating,_.update)},[T.open,_.elements,_.update]);const $=$r({active:A.role==="dialog",open:!!T.open,onClose:z=>{T.onOpenChange?.(!1,z)},trigger:_.refs.reference});d.useEffect(()=>{T.open&&v&&(v.isConnected||!1?(_.refs.setReference(v),_.update()):(_.refs.setReference(null),T.onOpenChange?.(!1),E?.(!1)))},[T.open,v,_,T,E]);const Z=Mr(_.context,{ignoreMouse:L==="hover"}),oe=Rr(_.context,{enabled:L==="hover",move:!1,delay:m,handleClose:jr({requireIntent:!1})}),Y=Fr(_.context,{capture:{escapeKey:!0},ancestorScroll:!0,outsidePress:!!u||s}),{getReferenceProps:K,getFloatingProps:re}=Wr([Z,oe,Y]);let U=null;const ie=re(),Ie=dr([p,_.refs.setFloating,$]);(l||T.open)&&(U=V.jsxs(Ar,{children:[L!=="hover"&&!u&&T.open?V.jsx(Lr,{className:wt({[N||"z-overlay"]:!0}),onClick:z=>{z.preventDefault(),z.stopPropagation(),T.onOpenChange?.(!1,"click-outside")},"data-testid":"sprout-floating-overlay",lockScroll:!a}):null,V.jsxs(An,{asDiv:!0,"data-testid":t||"sprout-floating","data-placement":_.context.middlewareData.offset?.placement||"top",ref:z=>{Ie&&Ie(z),z&&z.isConnected&&R&&setTimeout(()=>{R(_.refs.reference.current,z)},0)},...Kr(ie,A),style:T.open?_.floatingStyles:{display:"none"},className:wt({[i||""]:!!i,[N||"z_overlay"]:!0}),id:k,children:[o?V.jsx(yr,{ref:w,context:_.context,...o}):null,c]})]})),D&&(U=V.jsx(xr,{id:j.nodeId,children:U}));const Qe=r&&d.isValidElement(r)?r:V.jsx("span",{}),En=K();return V.jsxs(V.Fragment,{children:[r?V.jsx(d.Fragment,{children:at(Qe,{"data-state":T.open?"open":"closed",...En},_.refs.setReference)},"trigger"):null,V.jsx(d.Fragment,{children:U},"wrapper")]})}xn.displayName="FloatingPrimitive";const qr="_container_1yhfc_6",Ur="_arrow_1yhfc_32",Kt={container:qr,arrow:Ur},Q={delay:300,hovered:!1},ri=d.forwardRef(Rn);function Rn({children:t,title:e,open:n,onOpenChange:o,initialOpen:r,isDisplayedForTesting:i,placement:s="top",...c},a){const l=wn({open:n,onOpenChange:o,defaultOpen:r||i||!1}),[u,m]=d.useState(i||r||l.open),[h,f]=d.useState(i||r||l.open);return d.useEffect(()=>(u&&!Q.hovered?Q.timeout=setTimeout(()=>{Q.hovered=!0,f(!0)},Q.delay):u&&Q.hovered?(clearTimeout(Q.timeout),Q.timeout=void 0,f(!0)):(f(!1),Q.hovered&&(Q.timeout=setTimeout(()=>{Q.hovered=!1},Q.delay))),()=>{clearTimeout(Q.timeout),Q.timeout=void 0}),[u,h]),d.useEffect(()=>{l.open!==u&&(f(l.open),m(l.open))},[l.open,u]),e?V.jsx(zr,{hideBackdrop:!0,trigger:"hover",placement:s,placementUpdate:"dropdown",arrowProps:{className:Kt.arrow},zIndex:"z-context",role:"tooltip",className:Kt.container,"data-displayed":h,content:e,open:u,onOpenChange:b=>{m(b),l.onOpenChange?.(b),o&&o(b)},maxWidth:ve.container_sizing_xxs,...c,children:t?at(t,{},a):null}):at(t,{},a)}Rn.displayName="Tooltip";export{oi as D,zr as F,ye as S,ri as T,yn as a,Xr as b,ni as c,ti as d,wn as e,dr as u};
