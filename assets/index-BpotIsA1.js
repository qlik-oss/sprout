import{r as i,j as s}from"./iframe-B4vjk2_C.js";import{u as v}from"./useId-DsPr7Fl4.js";import{F as k}from"./Close-CzhTZSOO.js";import{S as B}from"./SeverityIcon-BXOn61Fa.js";import{m as $}from"./renderOrClone-D3fq_iUv.js";import{c as o}from"./classNames-DaRWzB8T.js";import{u as L}from"./useI18n-DbSMZiRF.js";import{B as T}from"./Button-COVTwlCl.js";import{D as z}from"./Dialog-BxQNm9uS.js";import{I as A}from"./IconButton-Ba8Tcb-S.js";import{s as D}from"./sprout-DTAeqvbL.js";const F="_container_qnew3_1",M="_toast_qnew3_39",O="_show_qnew3_47",V="_toast_info_qnew3_79",Y="_toast_warning_qnew3_83",G="_toast_error_qnew3_87",H="_toast_success_qnew3_91",J="_severity_icon_qnew3_95",K="_max_rows_qnew3_100",P="_max_height_qnew3_109",n={container:F,toast:M,show:O,toast_info:V,toast_warning:Y,toast_error:G,toast_success:H,severity_icon:J,max_rows:K,max_height:P},Q={info:n.toast_info,warning:n.toast_warning,error:n.toast_error,success:n.toast_success},U=i.forwardRef(g);function g({title:e,message:a,action:c,severity:r,onClose:l,"data-testid":t,...j},N){const[y,x]=i.useState(!1),q=i.useRef(null),[R,S]=i.useState(!0),w=v(),f=v(),C=L()("toast.dismiss"),d=i.useMemo(()=>m=>{x(!1),setTimeout(()=>{l?.(m),S(!1)},400)},[]),E=$([N,q]);i.useEffect(()=>{const m=setTimeout(()=>{x(!0)},0),h=p=>{p.key==="Escape"&&d(p)};return document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h),clearTimeout(m)}},[]);const _={role:"alert","aria-labelledby":f};if(e&&(_["aria-labelledby"]=w,_["aria-describedby"]=f),!R)return null;const u=c&&s.jsx("div",{className:o("self-start"),children:s.jsx(T,{variant:"quiet",size:"small","data-testid":t?`${t}-action`:void 0,...c,onClick:m=>{c.onClick?.(m),d()}})});return s.jsx(z,{ref:E,"data-testid":t,visible:!0,..._,...j,className:o("inline-flex","border-box","items-start","border-moderate","radius-subtle","bg-default","text-default","box-shadow-moderate","relative","p-m",n.toast,{[Q[r||"info"]]:!!r,[n.show]:y,"pl-xl":!r,"pr-xl":!l&&!c}),children:s.jsxs("div",{className:o("flex","w-full","flex-row","gap-s","items-center","relative"),children:[!!r&&s.jsx("div",{className:o("flex","items-center","justify-center","p-s",n.severity_icon,{"self-start":!!e||!!a&&!e}),children:B[r]}),s.jsxs("div",{"data-type":"content",className:o("overflow-hidden"),children:[!!e&&s.jsxs("div",{className:o("flex","flex-row","gap-s","items-center"),children:[s.jsx("strong",{className:o("w-full","font-label-xs-emphasized","truncate","my-s"),id:w,"data-testid":t?`${t}-title`:void 0,children:e}),u]}),typeof a=="string"?s.jsxs("div",{className:o("flex","flex-row","items-center","gap-s"),children:[s.jsx("p",{className:o("font-label-xs","m-0","overflow-hidden",n.max_rows,{"mb-s":!!e,"mr-s":!!l}),id:f,"data-testid":t?`${t}-message`:void 0,children:a}),!e&&u]}):s.jsx("div",{className:o("font-label-xs","m-0","overflow-y-auto","overflow-x-hidden",n.max_height,{"mb-s":!!e,"mr-s":!!l}),id:f,"data-testid":t?`${t}-message`:void 0,children:a})]}),typeof a!="string"&&!e&&u,!!l&&s.jsx("div",{className:o("shrink-0","grow-0","self-start"),children:s.jsx(A,{size:"small",variant:"quiet",onClick:()=>{d()},icon:s.jsx(k,{height:void 0}),"aria-label":C,"data-testid":t?`${t}-close`:void 0})})]})})}g.displayName="Toast.Content";const W=i.forwardRef(b);function b({placement:e,children:a,...c},r){return s.jsx("div",{"data-placement":e||"top",ref:r,className:D.classNames("flex","fixed","flex-col","gap-m","w-fit","z-time-sensitive",n.container),...c,children:a})}b.displayName="Toast.Container";const ls={Content:U,Container:W};export{ls as T};
