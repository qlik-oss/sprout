import{r as c,j as l}from"./iframe-B4-nXs83.js";import{c as x}from"./classNames-eIMwhIDK.js";import{S as Re}from"./icons-DuVV-LnW.js";import{t as pe}from"./sprout-tokens-D9QRO1qB.js";import{u as we}from"./useId-D71ehFqY.js";import{u as je}from"./useFieldAriaProps-Cbzvhn2j.js";import{F as _e}from"./Field-B3vU29tm.js";const $e="_slider_track_wrapper_130sp_1",Ee="_slider_track_130sp_1",ke="_slider_indicator_130sp_34",Pe="_slider_grip_130sp_38",Ve="_slider_input_130sp_54",ze="_slider_grip_value_130sp_71",Ie="_slider_interval_mark_130sp_105",Le="_slider_intervals_container_130sp_119",Te="_slider_interval_position_horizontal_130sp_132",Ae="_slider_interval_label_130sp_140",Ce="_slider_interval_button_130sp_146",Fe="_slider_interval_label_selected_130sp_156",Be="_slider_interval_label_vertical_130sp_161",Oe="_slider_field_130sp_173",Ge="_slider_content_130sp_186",m={slider_track_wrapper:$e,slider_track:Ee,slider_indicator:ke,slider_grip:Pe,slider_input:Ve,slider_grip_value:ze,slider_interval_mark:Ie,slider_intervals_container:Le,slider_interval_position_horizontal:Te,slider_interval_label:Ae,slider_interval_button:Ce,slider_interval_label_selected:Fe,slider_interval_label_vertical:Be,slider_field:Oe,slider_content:Ge},ie=c.forwardRef(ve);function ve({id:s,currentPercent:e,value:t,index:a,step:n,overlappingGrips:b,rangeEndValue:v,labelPercent:h,trackRef:g,labelRef:$,orientation:u="horizontal",markValues:p,valueLabelFormat:r,...o},G){const f=a??0,y=u==="vertical",d=p?`${s}-marks`:void 0,[V,A]=c.useState(0);c.useEffect(()=>{if(h!==void 0&&e!==void 0&&g?.current){const N=g.current,E=y?N.offsetHeight:N.offsetWidth,H=h-e,q=getComputedStyle(N).direction==="rtl";let z=1;(y||q)&&(z=-1);const D=H/100*E*z;A(D)}else A(0)},[h,e,g,y]);let C;if(v!==void 0){const N=y?v:t,E=y?t:v,H=y?`
`:" - ";r?C=`${r(Number(N))}${H}${r(Number(E))}`:C=`${N}${H}${E}`}else C=r?r(Number(t)):t;const Y=V!==0?{"--label-offset":`${V}px`}:void 0;return l.jsxs("div",{role:"presentation","data-orientation":u,className:x("absolute","radius-subtle","border-box","border-default","flex","items-center","justify-center","box-shadow-default",m.slider_grip),style:y?{insetBlockEnd:`${e}%`}:{insetInlineStart:`${e}%`},children:[l.jsx("output",{"aria-live":"off",htmlFor:s,"data-orientation":u,className:x("text-default","font-label-s-emphasized","absolute","pointer-events-none",m.slider_grip_value,{hidden:!!b&&f===1,"text-disabled":!!o.disabled}),style:Y,ref:$,children:C}),l.jsx(Re,{}),l.jsx("input",{...o,"aria-valuemin":Number(o.min),"aria-valuemax":Number(o.max),"aria-valuenow":Number(t),"aria-orientation":u,id:s,tabIndex:0,value:t,step:n,list:d,className:x("sr-only","w-full","h-full",m.slider_input),type:"range",ref:G}),Array.isArray(p)&&d!==void 0?l.jsx("datalist",{id:d,children:p.map(N=>l.jsx("option",{value:N.value,"aria-label":String(N.value)},N.value))}):null]})}ve.displayName="Slider.Grip";function de({disabled:s,start:e,width:t,orientation:a="horizontal"}){const n=a==="vertical";return l.jsx("div",{"data-disabled":s,className:x("radius-round","border-box","absolute",m.slider_indicator,{"h-full":!n,"w-full":n}),role:"presentation",style:n?{insetBlockEnd:`${e}%`,blockSize:`${t}%`}:{insetInlineStart:`${e}%`,inlineSize:`${t}%`}})}de.displayName="Slider.Indicator";function We({mark:s,disabled:e,orientation:t="horizontal",showLabel:a=!0,valueLabelFormat:n,verticalMarkLabels:b,isSelected:v=!1,inSelectedRange:h=!0}){return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:x("flex","items-center",{"px-m":t==="horizontal","px-xs":t==="vertical"}),children:l.jsx("span",{className:x(m.slider_interval_mark),"data-orientation":t})}),a?l.jsx("span",{className:x("font-label-s",m.slider_interval_label,{"text-default":h,"text-weak":!h,"text-disabled":!!e,[m.slider_interval_label_selected]:v})+(b&&t==="horizontal"?` ${m.slider_interval_label_vertical}`:""),children:s.label??(n?n(s.value):s.value)}):null]})}function ce({disabled:s,min:e,max:t,orientation:a="horizontal",markValues:n,markLabels:b,verticalMarkLabels:v,valueLabelFormat:h,currentValue:g,onMarkPress:$}){if(e===void 0||t===void 0)return null;const u=a==="vertical",p=t-e,r=Array.isArray(n)?n:[{value:e},{value:t}],o=f=>g===void 0?!1:Array.isArray(g)?g.includes(f):g===f,G=f=>{if(g===void 0)return!0;if(Array.isArray(g)){const[y,d]=g;return f>=y&&f<=d}return f<=g};return l.jsx("div",{className:x({"pl-m":!u,"pr-m":!u,"pb-m":u,"pt-m":u}),children:l.jsx("div",{className:x(m.slider_intervals_container,{"w-full":!u}),"data-orientation":a,children:r.map(f=>{const y=(f.value-e)/p*100,d=`calc(${pe.common_sizing_xl} / 2)`,V=`calc(${y}% * (100% - ${pe.common_sizing_xl}) / 100% + ${d})`;return l.jsx("div",{className:x({[m.slider_interval_position_horizontal]:!u}),style:u?{gridColumn:1,gridRow:1,alignSelf:"end",position:"relative",bottom:V,transform:"translateY(50%)"}:{gridColumn:1,gridRow:1,justifySelf:"start",marginInlineStart:V},children:l.jsx("button",{type:"button",className:x(m.slider_interval_button,"flex","items-center",{"gap-m":!u,"gap-xs":u,"flex-col":!u,"flex-row":u}),"aria-label":String(f.value),disabled:!!s,onClick:A=>{A.stopPropagation(),$?.(f.value,A.nativeEvent)},children:l.jsx(We,{mark:f,disabled:s,orientation:a,valueLabelFormat:h,verticalMarkLabels:v,isSelected:o(f.value),inSelectedRange:G(f.value),showLabel:f.value===e||f.value===t||b===!0||"label"in f&&f.label!==void 0})})},f.value)})})})}ce.displayName="Slider.Intervals";const be=c.forwardRef(he);function he({children:s,orientation:e="horizontal",innerTrackRef:t},a){return l.jsx("div",{className:x("cursor-pointer",m.slider_track_wrapper,{"w-full":e==="horizontal"}),"data-orientation":e,role:"presentation",ref:a,children:l.jsx("div",{className:x("p-xl"),role:"presentation",children:l.jsx("div",{className:x("relative","radius-round","border-box",m.slider_track),"data-orientation":e,ref:t,children:s})})})}he.displayName="Slider.Track";function ge(s){const{id:e,label:t,helpText:a,errorMessages:n,infoIconTooltip:b,optional:v,...h}=s,g=we(e),{ariaProps:$}=je({label:t,helpText:a,errorMessages:n}),u=h.hasError||(n||[]).length>0,p=s.disabled||!1;return{fieldProps:{label:t,labelId:g,optional:v,infoIconTooltip:b,helpText:a,errorMessages:n,disabled:p},inputProps:{...h,id:g,hasError:u,disabled:p,...$}}}function ae(s,e,t){if(e===t)return 0;const a=0,n=100,b=t-e,h=(s-e)/b*100;return Math.min(n,Math.max(a,h))}function oe(s,e,t,a,n,b,v){let h;if(t==="vertical"){const o=s.bottom-v.clientY;h=Math.min(Math.max(o/s.height,0),1)}else{const o=e?s.right-v.clientX:v.clientX-s.left;h=Math.min(Math.max(o/s.width,0),1)}const g=a+h*(n-a),$=Math.min(n,Math.max(a,g)),u=Number.isFinite(b)&&b>0?b:1,p=Math.round($/u)*u,r=Math.min(n,Math.max(a,p));return $>=n-u*.1?n:r}const He=([s,e],t,a)=>s<t||e<t||s>a||e>a,De=(s,e,t)=>s<e||s>t;function Se(s,e,t,a){if(!s)return;let n;if(s===!0){n=[];const b=Number.isFinite(a)&&a>0?a:1;if(e===t)n.push({value:e});else for(let v=e;v<=t;v+=b)n.push({value:v})}else n=[...s];return n.find(b=>b.value===e)||n.unshift({value:e}),n[n.length-1].value!==t&&n.push({value:t}),n}const Ue=c.forwardRef(xe);function xe({defaultValue:s,disabled:e,endInputRef:t,endName:a,errorMessages:n,hasError:b,helpText:v,helpTextId:h,htmlFor:g,infoIconTooltip:$,label:u,labelId:p,max:r=100,min:o=0,onChange:G,onChangeCommitted:f,optional:y,orientation:d="horizontal",startInputRef:V,startName:A,step:C=1,marks:Y,markLabels:N,valueLabelFormat:E,verticalMarkLabels:H,value:q,...z},D){const I=Number.isFinite(C)&&C>0?C:1,U=c.useRef(null),F=c.useRef(null),B=c.useRef(null),w=c.useRef(null),W=c.useRef(null),[O,K]=c.useState(!1),[Q,Z]=c.useState(s??[o,r]),J=typeof q<"u",S=J?q:Q,i=c.useMemo(()=>S.length>=2?S.slice(0,2):[o,r],[J,q,Q,o,r]);He(i,o,r)&&console.warn(`RangeSlider: current values [${i[0]}, ${i[1]}] is out of bounds [${o}, ${r}].`),S.length>2&&console.warn("RangeSlider expects exactly 2 values ([start, end]). Extra values will be ignored.");const{fieldProps:X,inputProps:L}=ge({disabled:e,errorMessages:n,hasError:b,helpText:v,helpTextId:h,htmlFor:g,infoIconTooltip:$,label:u,labelId:p,optional:y}),ee=c.useCallback((_,R,M)=>{const[P,j]=_,T=[Math.min(P,j),Math.max(P,j)];J||Z(T),G?.(T,R,M)},[J,G]),se=c.useMemo(()=>Se(Y,o,r,I),[Y,o,r,I]),te=c.useCallback(_=>{if(!U.current||!F.current)return;_.preventDefault();const R=F.current.getBoundingClientRect(),M=getComputedStyle(U.current).direction==="rtl",P=oe(R,M,d,o,r,I,_),j=B.current??0,T=j===0?[P,i[1]]:[i[0],P];ee(T,_,j)},[o,r,I,i,ee,d]),k=c.useMemo(()=>[ae(i[0],o,r),ae(i[1],o,r)],[i,o,r]),ue=Array.isArray(k)?k[0]:0,Me=Array.isArray(k)?k[1]-ue:k;return c.useEffect(()=>{const _=U.current;if(!_)return;const R=M=>{if(!U.current||!F.current)return;const P=F.current.getBoundingClientRect(),j=getComputedStyle(U.current).direction==="rtl",T=oe(P,j,d,o,r,I,M),ne=Math.abs(i[0]-T),le=Math.abs(i[1]-T);B.current=ne<le?0:1,te(M),document.addEventListener("pointermove",te);const re=()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",re),f?.(i,M),B.current=null};document.addEventListener("pointerup",re)};return _.addEventListener("pointerdown",R),()=>{_.removeEventListener("pointerdown",R)}},[te,f]),c.useEffect(()=>{if(!F.current||!w.current||!W.current)return;const _=F.current,R=w.current,M=W.current,P=d==="vertical"?_.offsetHeight:_.offsetWidth,j=d==="vertical"?R.offsetHeight:R.offsetWidth,T=d==="vertical"?M.offsetHeight:M.offsetWidth,ne=k[0]/100*P,le=k[1]/100*P,re=Math.abs(le-ne),ye=d==="vertical"?0:9,Ne=j/2+T/2+ye,fe=re<Ne;O!==fe&&K(fe)},[i,o,r,d,k,E]),l.jsx("div",{...z,role:"group","aria-labelledby":X.labelId,"aria-disabled":e,"data-orientation":d,className:x(m.slider_field),ref:D,children:l.jsx(_e,{...X,children:l.jsxs("div",{className:x(m.slider_content),"data-orientation":d,children:[l.jsxs(be,{ref:U,innerTrackRef:F,orientation:d,children:[l.jsx(de,{start:ue,width:Me,orientation:d}),l.jsx(ie,{"aria-labelledby":`${L.id}-0 ${L.id}`,id:`${L.id}-0`,value:i[0],currentPercent:k[0],index:0,min:o,max:r,name:A,step:I,overlappingGrips:O,rangeEndValue:O?i[1]:void 0,labelPercent:O?(k[0]+k[1])/2:void 0,trackRef:F,labelRef:w,orientation:d,markValues:se,valueLabelFormat:E,ref:V,onChange:_=>{const M=[Math.min(Math.max(_.target.valueAsNumber,o),r),i[1]];B.current=0,ee(M,_,0)}}),l.jsx(ie,{"aria-labelledby":`${L.id}-1 ${L.id}`,id:`${L.id}-1`,value:i[1],currentPercent:k[1],index:1,min:o,max:r,name:a,step:I,overlappingGrips:O,labelRef:W,orientation:d,markValues:se,valueLabelFormat:E,onChange:_=>{const R=Math.min(Math.max(_.target.valueAsNumber,o),r),M=[i[0],R];B.current=1,ee(M,_,1)},ref:t})]}),l.jsx(ce,{min:o,max:r,disabled:X.disabled,orientation:d,markValues:se,markLabels:N,verticalMarkLabels:H,valueLabelFormat:E,currentValue:i,onMarkPress:(_,R)=>{const M=Math.abs(i[0]-_),P=Math.abs(i[1]-_),j=M<=P?0:1;B.current=j;const T=j===0?[_,i[1]]:[i[0],_];ee(T,R,j)}})]})})})}xe.displayName="Slider.Range";const Xe=c.forwardRef(me);function me({defaultValue:s,disabled:e,errorMessages:t,hasError:a,helpText:n,helpTextId:b,htmlFor:v,infoIconTooltip:h,inputRef:g,label:$,labelId:u,max:p=100,min:r=0,name:o,onChange:G,onChangeCommitted:f,optional:y,orientation:d="horizontal",step:V=1,marks:A,markLabels:C,valueLabelFormat:Y,verticalMarkLabels:N,value:E,...H},q){const z=Number.isFinite(V)&&V>0?V:1,D=c.useRef(null),I=c.useRef(null),[U,F]=c.useState(s??r),B=typeof E<"u",w=B?E:U;De(w,r,p)&&console.warn(`SingleSlider: current value ${w} is out of bounds [${r}, ${p}].`);const{fieldProps:W,inputProps:O}=ge({disabled:e,errorMessages:t,hasError:a,helpText:n,helpTextId:b,htmlFor:v,infoIconTooltip:h,label:$,labelId:u,optional:y}),K=c.useCallback((S,i)=>{B||F(S),G?.(S,i)},[w,B,G]),Q=c.useMemo(()=>Se(A,r,p,z),[A,r,p,z]),Z=c.useCallback(S=>{if(!D.current||!I.current)return;S.preventDefault();const i=I.current.getBoundingClientRect(),X=getComputedStyle(D.current).direction==="rtl",L=oe(i,X,d,r,p,z,S);K(L,S)},[r,p,z,d,w,K,Q]),J=c.useMemo(()=>ae(w,r,p),[w,r,p]);return c.useEffect(()=>{const S=D.current;if(!S)return;const i=X=>{Z(X),document.addEventListener("pointermove",Z);const L=()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",L),f?.(w,X)};document.addEventListener("pointerup",L)};return S.addEventListener("pointerdown",i),()=>{S.removeEventListener("pointerdown",i)}},[Z,f]),l.jsx("div",{...H,role:"group","aria-labelledby":W.labelId,"aria-disabled":W.disabled,"data-orientation":d,className:x(m.slider_field),ref:q,children:l.jsx(_e,{...W,children:l.jsxs("div",{className:x(m.slider_content),"data-orientation":d,children:[l.jsxs(be,{ref:D,innerTrackRef:I,orientation:d,children:[l.jsx(de,{start:0,width:J,disabled:W.disabled,orientation:d}),l.jsx(ie,{disabled:O.disabled,"aria-labelledby":`${O.id}-0 ${O.id}`,id:`${O.id}-0`,value:w,currentPercent:J,index:0,min:r,max:p,name:o,step:z,orientation:d,markValues:Q,valueLabelFormat:Y,ref:g,onChange:S=>{const i=Math.min(Math.max(S.target.valueAsNumber,r),p);K(i,S)}})]}),l.jsx(ce,{min:r,max:p,disabled:W.disabled,orientation:d,markValues:Q,markLabels:C,verticalMarkLabels:N,valueLabelFormat:Y,currentValue:w,onMarkPress:(S,i)=>{K(S,i)}})]})})})}me.displayName="Slider.Single";const tt={Single:Xe,Range:Ue};export{tt as S};
